{"version":3,"file":"module.js","mappings":"qJAAAA,EAAOC,QAAUC,C,UCAjBF,EAAOC,QAAUE,C,UCAjBH,EAAOC,QAAUG,C,UCAjBJ,EAAOC,QAAUI,C,UCAjBL,EAAOC,QAAUK,C,UCAjBN,EAAOC,QAAUM,C,UCAjBP,EAAOC,QAAUO,C,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaX,QAGrB,IAAID,EAASS,EAAyBE,GAAY,CAGjDV,QAAS,CAAC,GAOX,OAHAa,EAAoBH,GAAUX,EAAQA,EAAOC,QAASS,GAG/CV,EAAOC,OACf,CCrBAS,EAAoBK,EAAKf,IACxB,IAAIgB,EAAShB,GAAUA,EAAOiB,WAC7B,IAAOjB,EAAiB,QACxB,IAAM,EAEP,OADAU,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdN,EAAoBQ,EAAI,CAACjB,EAASmB,KACjC,IAAI,IAAIC,KAAOD,EACXV,EAAoBY,EAAEF,EAAYC,KAASX,EAAoBY,EAAErB,EAASoB,IAC5EE,OAAOC,eAAevB,EAASoB,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDX,EAAoBiB,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,EAChB,CAAE,MAAOC,GACR,GAAsB,iBAAXC,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBtB,EAAoBY,EAAI,CAACW,EAAKC,IAAUX,OAAOY,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFxB,EAAoB4B,EAAKrC,IACH,oBAAXsC,QAA0BA,OAAOC,aAC1CjB,OAAOC,eAAevB,EAASsC,OAAOC,YAAa,CAAEC,MAAO,WAE7DlB,OAAOC,eAAevB,EAAS,aAAc,CAAEwC,OAAO,GAAO,E,4NCQ9D,MAAMC,EAAuD,CAC3D,CACEC,MAAO,UACPF,MAAO,UACPG,UAAW,IACT,kBAACC,EAAAA,IAAGA,CACFC,WAAWC,EAAAA,EAAAA,KAAI,CACbC,SAAU,GACVC,QAAS,UACTC,cAAe,gBAEjBC,KAAM,eACNC,WAAY,KAIlB,CAAET,MAAO,OAAQF,MAAO,SAGnB,SAASY,EAAsB,G,SAAA,KAAEC,GAAF,EAAWC,E,kXAAAA,CAAX,GAAED,SACtC,OACE,kBAACE,MAAAA,CAAIC,cAAa,yBAChB,kBAACC,EAAAA,kB,wUAAgBA,CAAAA,CAACC,KAAK,MAASJ,G,WAAAA,CAAOK,QAASlB,EAAaD,MAAOa,I,kVAG1E,C,izBChCA,MAAM,UAAEO,GAAcC,EAAAA,Y,IAsBAF,EAlBf,MCNDG,EAAe,EAAGC,eACtB,MAAMC,GAAS,IAAAC,YAAWC,GAC1B,OAAuB,kBAA6B,MAAO,CAAErB,UAAWmB,EAAOG,MAAQJ,EAAS,EAE5FG,EAAaE,IAAU,CAC3BD,MAAM,IAAArB,KAAI,CACRuB,QAAS,OACTC,SAAU,OACVC,WAAY,SACZC,IAAKJ,EAAMK,QAAQ,GACnBC,UAAWN,EAAMK,QAAQ,OCV7B,IAAIE,EAAsBrD,OAAOsD,sBAC7BC,EAAevD,OAAOY,UAAUC,eAChC2C,EAAexD,OAAOY,UAAU6C,qBAapC,MAAMC,EAASC,IACb,IAAIC,EAAKD,GAAI,SAAElB,GAAamB,EAAI5B,EAblB,EAAC6B,EAAQC,KACvB,IAAIC,EAAS,CAAC,EACd,IAAK,IAAIpD,KAAQkD,EACXN,EAAazC,KAAK+C,EAAQlD,IAASmD,EAAQE,QAAQrD,GAAQ,IAC7DoD,EAAOpD,GAAQkD,EAAOlD,IAC1B,GAAc,MAAVkD,GAAkBR,EACpB,IAAK,IAAI1C,KAAQ0C,EAAoBQ,GAC/BC,EAAQE,QAAQrD,GAAQ,GAAK6C,EAAa1C,KAAK+C,EAAQlD,KACzDoD,EAAOpD,GAAQkD,EAAOlD,IAE5B,OAAOoD,CAAM,EAG2BE,CAAUL,EAAI,CAAC,aACvD,MAAMlB,GAAS,IAAAC,aAAW,IAAAuB,cAAapB,GAAU,EAAUA,EAAOd,IAAQ,CAACA,KAC3E,OAAuB,kBAA6B,MAAO,CAAET,UAAWmB,EAAOG,MAAQJ,EAAS,EAE5F,EAAY,CAACK,EAAOd,KACxB,IAAI2B,EAAIC,EAAIO,EACZ,MAAO,CACLtB,MAAM,IAAArB,KAAI,CACRuB,QAAS,OACTqB,cAAyC,OAAzBT,EAAK3B,EAAMqC,WAAqBV,EAAK,MACrDX,SAAgC,OAApBY,EAAK5B,EAAMsC,OAAgBV,EAAa,YAAS,EAC7DX,WAAYjB,EAAMiB,WAClBC,IAAKJ,EAAMK,QAA4B,OAAnBgB,EAAKnC,EAAMkB,KAAeiB,EAAK,GACnDI,SAAUvC,EAAMuC,WAEnB,EChCGC,EAAa,EAAG/B,cACG,kBAA6BiB,EAAO,CAAER,IAAK,GAAKmB,UAAW,UAAY5B,GCD1FgC,EAAmB,EAAGhC,cACH,kBAA6BiB,EAAO,CAAER,IAAK,GAAKT,GCAnEiC,EAAS1C,IACb,MAAMU,GAAS,IAAAC,aAAW,IAAAuB,cAAapB,GAAU,EAAUA,EAAOd,IAAQ,CAACA,KAC3E,OAAuB,kBAA6B,OAAQ,CAAET,WAAW,IAAAoD,IAAGjC,EAAOkC,UAAW,EAEhGF,EAAMG,aAAe,CACnBC,EAAG,EACHC,EAAG,EACHC,OAAQ,SAEV,MAAM,EAAY,CAAClC,EAAOd,KACxB,IAAI2B,EAAIC,EACR,MAAO,CACLgB,SAAS,IAAApD,KAAI,CACX,CACEyD,aAAcnC,EAAMK,QAA0B,OAAjBQ,EAAK3B,EAAM+C,GAAapB,EAAK,GAC1DuB,cAAepC,EAAMK,QAA0B,OAAjBS,EAAK5B,EAAM8C,GAAalB,EAAK,IAE5C,WAAjB5B,EAAMgD,QAAuB,CAC3BjC,QAAS,gBAEM,UAAjBf,EAAMgD,QAAsB,CAC1BjC,QAAS,WAGd,ECvBH,IAAIoC,EAAYnF,OAAOC,eACnB,EAAsBD,OAAOsD,sBAC7B,EAAetD,OAAOY,UAAUC,eAChC,EAAeb,OAAOY,UAAU6C,qBAChC2B,EAAkB,CAAC1E,EAAKZ,EAAKoB,IAAUpB,KAAOY,EAAMyE,EAAUzE,EAAKZ,EAAK,CAAEI,YAAY,EAAMmF,cAAc,EAAMC,UAAU,EAAMpE,UAAWR,EAAIZ,GAAOoB,EAwB1J,MAAMqE,EAAevD,IACnB,IAAI4B,EACJ,MAAMD,EAAK3B,GAAO,MAAEZ,EAAK,SAAEoE,EAAQ,QAAEC,EAAO,mBAAEC,EAAkB,SAAEjD,EAAQ,MAAEkD,GAAUhC,EAAIiC,EAd5E,EAAC/B,EAAQC,KACvB,IAAIC,EAAS,CAAC,EACd,IAAK,IAAIpD,KAAQkD,EACX,EAAa/C,KAAK+C,EAAQlD,IAASmD,EAAQE,QAAQrD,GAAQ,IAC7DoD,EAAOpD,GAAQkD,EAAOlD,IAC1B,GAAc,MAAVkD,GAAkB,EACpB,IAAK,IAAIlD,KAAQ,EAAoBkD,GAC/BC,EAAQE,QAAQrD,GAAQ,GAAK,EAAaG,KAAK+C,EAAQlD,KACzDoD,EAAOpD,GAAQkD,EAAOlD,IAE5B,OAAOoD,CAAM,EAI0F,CAAUJ,EAAI,CAAC,QAAS,WAAY,UAAW,qBAAsB,WAAY,UAClLjB,GAAS,IAAAC,aAAW,IAAAuB,cAAapB,GAAU,EAAUA,EAAO6C,IAAQ,CAACA,KACrEE,GAA8B,MAAdD,OAAqB,EAASA,EAAWE,WAAkC,OAApBlC,EAAK,EAAAmC,iBAAsB,EAASnC,EAAGoC,WAAWvD,IACzHwD,EAA0B,kBAA6B,aAAyB,KAAsB,kBAA6B,QAAS,CAAE1E,UAAWmB,EAAOtB,MAAO0E,QAASD,GAAgBzE,EAAOoE,GAA4B,kBAA6B,OAAQ,CAAEjE,UAAWmB,EAAO8C,UAAY,eAAgBC,GAA2B,kBAA6B,EAAAS,QAAS,CAAEC,UAAW,MAAOC,QAASX,EAAS3C,MAAO,OAAQuD,YAAaX,GAAsC,kBAA6B,EAAAY,KAAM,CAAEC,SAAU,EAAG3E,KAAM,cAAeQ,KAAM,KAAMb,UAAWmB,EAAO8D,SAA2B,kBAA6B9B,EAAO,CAAEI,EAAG,MAChpB,OAAuB,kBAA6B,MAAO,CAAEvD,UAAWmB,EAAOG,MAAwB,kBAA6B,EAAA4D,MA7BjH,EAAC7G,EAAG8G,KACvB,IAAK,IAAI/F,KAAQ+F,IAAMA,EAAI,CAAC,GACtB,EAAa5F,KAAK4F,EAAG/F,IACvByE,EAAgBxF,EAAGe,EAAM+F,EAAE/F,IAC/B,GAAI,EACF,IAAK,IAAIA,KAAQ,EAAoB+F,GAC/B,EAAa5F,KAAK4F,EAAG/F,IACvByE,EAAgBxF,EAAGe,EAAM+F,EAAE/F,IAEjC,OAAOf,CAAC,EAoBmI+G,CAAe,CAAEpF,UAAWmB,EAAOkE,MAAOxF,MAAO6E,GAAWL,GAAanD,GAAU,EAE1N,EAAY,CAACK,EAAO6C,KACjB,CACL9C,MAAM,IAAArB,KAAI,CACRqF,SAAU/D,EAAMK,QAAiB,MAATwC,EAAgBA,EAAQ,KAElDvE,OAAO,IAAAI,KAAI,CACTC,SAAU,GACVqF,WAAYhE,EAAMiE,WAAWC,mBAE/BxB,UAAU,IAAAhE,KAAI,CACZyF,UAAW,SACXC,MAAOpE,EAAMqE,OAAOC,KAAKC,YAE3BT,OAAO,IAAApF,KAAI,CACT8F,aAAc,IAGhBd,MAAM,IAAAhF,KAAI,CACR0F,MAAOpE,EAAMqE,OAAOC,KAAKC,UACzBE,WAAYzE,EAAMK,QAAQ,GAC1B,SAAU,CACR+D,MAAOpE,EAAMqE,OAAOC,KAAKI,aC9CjC,IAAIC,EAEFA,EADoB,oBAAXhH,OACMA,OAGU,oBAATiH,KAEDA,KAEA,EAAAtH,EAEjB,IAAIuH,EAAc,KACdC,EAAe,KACnB,MACMC,EAAiBJ,EAAaK,aAC9BC,EAAeN,EAAaO,WAC5BC,EAAyBR,EAAaS,sBAAwBT,EAAaU,yBAA2BV,EAAaW,2BACnHC,EAA0BZ,EAAaa,uBAAyBb,EAAac,0BAA4Bd,EAAae,4BAC9F,MAA1BP,GAA6D,MAA3BI,GAGpCV,EAAcE,EACdD,EAAe,SAA4Ca,GACzD,OAAOV,EAAaU,EAVC,GAWvB,IAKAd,EAAc,UAAsBe,EAAkBC,IACpDV,EAAuBS,GACvBb,EAAec,EACjB,EACAf,EAAe,SAAqDa,GAClE,MAAMC,EAAmBL,GAAwB,WAC/CR,EAAec,GACfF,GACF,IACME,EAAYZ,GAAa,WAC7BE,EAAuBS,GACvBD,GACF,GA5BqB,IA6BrB,MAAO,CAACC,EAAkBC,EAC5B,GA8JF,MAAMC,UAAkB,EAAAC,UACtBC,eAAeC,GACbC,SAASD,GACTzI,KAAK2I,MAAQ,CACXC,OAAQ5I,KAAK0B,MAAMmH,eAAiB,EACpCC,aAAc9I,KAAK0B,MAAMmH,eAAiB,EAC1CE,YAAa/I,KAAK0B,MAAMsH,cAAgB,EACxC3D,MAAOrF,KAAK0B,MAAMsH,cAAgB,GAEpChJ,KAAKiJ,WAAa,KAClBjJ,KAAKkJ,qBAAuB,KAC5BlJ,KAAKmJ,YAAc,KACnBnJ,KAAKoJ,gBAAkB,KACvBpJ,KAAKqJ,WAAa,KAClBrJ,KAAKsJ,UAAY,KACftJ,KAAKqJ,WAAa,KAClB,MAAM,cACJE,EAAa,aACbC,EAAY,SACZC,GACEzJ,KAAK0B,MACT,GAAI1B,KAAKmJ,YAAa,CACpB,IAAIO,EAAoBC,EAAqBC,EAAmBC,EAKhE,MAAMC,EAAQ3J,OAAO4J,iBAAiB/J,KAAKmJ,cAAgB,CAAC,EACtDa,EAAcC,WAAwD,QAA5CP,EAAqBI,EAAME,mBAAgD,IAAvBN,EAAgCA,EAAqB,KACnI/E,EAAesF,WAA0D,QAA9CN,EAAsBG,EAAMnF,oBAAkD,IAAxBgF,EAAiCA,EAAsB,KACxIO,EAAaD,WAAsD,QAA1CL,EAAoBE,EAAMI,kBAA8C,IAAtBN,EAA+BA,EAAoB,KAC9HhF,EAAgBqF,WAA4D,QAAhDJ,EAAuBC,EAAMlF,qBAAoD,IAAzBiF,EAAkCA,EAAuB,KAC7IM,EAAOnK,KAAKmJ,YAAYiB,wBACxBtB,EAAeqB,EAAKvB,OAASsB,EAAatF,EAC1CmE,EAAcoB,EAAK9E,MAAQ2E,EAAcrF,EACzCiE,EAAS5I,KAAKmJ,YAAYkB,aAAeH,EAAatF,EACtDS,EAAQrF,KAAKmJ,YAAYmB,YAAcN,EAAcrF,GACtD4E,GAAkBvJ,KAAK2I,MAAMC,SAAWA,GAAU5I,KAAK2I,MAAMG,eAAiBA,KAAkBU,GAAiBxJ,KAAK2I,MAAMtD,QAAUA,GAASrF,KAAK2I,MAAMI,cAAgBA,KAC7K/I,KAAKuK,SAAS,CACZ3B,SACAvD,QACAyD,eACAC,gBAEsB,mBAAbU,GACTA,EAAS,CACPb,SACAE,eACAC,cACA1D,UAIR,GAEFrF,KAAKwK,QAAUC,IACbzK,KAAKiJ,WAAawB,CAAS,CAE/B,CACAC,oBACE,MAAM,MACJC,GACE3K,KAAK0B,MACL1B,KAAKiJ,YAAcjJ,KAAKiJ,WAAW2B,YAAc5K,KAAKiJ,WAAW2B,WAAWC,eAAiB7K,KAAKiJ,WAAW2B,WAAWC,cAAcC,aAAe9K,KAAKiJ,WAAW2B,sBAAsB5K,KAAKiJ,WAAW2B,WAAWC,cAAcC,YAAYC,cAIlP/K,KAAKmJ,YAAcnJ,KAAKiJ,WAAW2B,WAIX,MAApB5K,KAAKmJ,cACuB,oBAAnB6B,gBACThL,KAAKoJ,gBAAkB,IAAI4B,gBAAe,KAIxChL,KAAKqJ,WAAa3B,WAAW1H,KAAKsJ,UAAW,EAAE,IAEjDtJ,KAAKoJ,gBAAgB6B,QAAQjL,KAAKmJ,eAElCnJ,KAAKkJ,qBA7Of,SAAmCyB,GACjC,IAAIO,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACJ,MAAMC,EAAkC,oBAAbC,UAA4BA,SAASD,YAChE,IAAKA,EAAa,CAChBF,EAAgB,SAAUI,GACxB,MAAMC,EAAWD,EAAQE,mBACvBC,EAASF,EAASG,kBAClBC,EAAWJ,EAASK,iBACpBC,EAAcJ,EAAOC,kBACvBC,EAASG,WAAaH,EAASI,YAC/BJ,EAASK,UAAYL,EAASM,aAC9BJ,EAAYpC,MAAMzE,MAAQyG,EAAOxB,YAAc,EAAI,KACnD4B,EAAYpC,MAAMlB,OAASkD,EAAOzB,aAAe,EAAI,KACrDyB,EAAOK,WAAaL,EAAOM,YAC3BN,EAAOO,UAAYP,EAAOQ,YAC5B,EACAhB,EAAgB,SAAUK,GACxB,OAAOA,EAAQrB,cAAgBqB,EAAQY,eAAelH,OAASsG,EAAQtB,eAAiBsB,EAAQY,eAAe3D,MACjH,EACA4C,EAAiB,SAAUtL,GAEzB,GAAIA,EAAEuD,OAAOxC,WAAmD,mBAA/Bf,EAAEuD,OAAOxC,UAAUyC,SAA0BxD,EAAEuD,OAAOxC,UAAUyC,QAAQ,oBAAsB,GAAKxD,EAAEuD,OAAOxC,UAAUyC,QAAQ,kBAAoB,EACjL,OAEF,MAAMiI,EAAU3L,KAChBuL,EAAcvL,MACVA,KAAKwM,eACPnF,EAAYrH,KAAKwM,eAEnBxM,KAAKwM,cAAgBlF,GAAa,WAC5BgE,EAAcK,KAChBA,EAAQY,eAAelH,MAAQsG,EAAQrB,YACvCqB,EAAQY,eAAe3D,OAAS+C,EAAQtB,aACxCsB,EAAQc,oBAAoBC,SAAQ,SAA+BC,GACjEA,EAAGnM,KAAKmL,EAASzL,EACnB,IAEJ,GACF,EAGA,IAAI0M,GAAY,EACZC,EAAiB,GACrBzB,EAAsB,iBACtB,MAAM0B,EAAc,kBAAkBC,MAAM,KAC5C,IAAIC,EAAc,uEAAuED,MAAM,KAC3FE,EAAM,GACV,CACE,MAAMC,EAAMxB,SAASyB,cAAc,eAInC,QAHgCnO,IAA5BkO,EAAIpD,MAAMqB,gBACZyB,GAAY,IAEI,IAAdA,EACF,IAAK,IAAIQ,EAAI,EAAGA,EAAIN,EAAYO,OAAQD,IACtC,QAAoDpO,IAAhDkO,EAAIpD,MAAMgD,EAAYM,GAAK,iBAAgC,CAC7DH,EAAMH,EAAYM,GAClBP,EAAiB,IAAMI,EAAIK,cAAgB,IAC3ClC,EAAsB4B,EAAYI,GAClCR,GAAY,EACZ,KACF,CAGN,CACAzB,EAAgB,aAChBD,EAAqB,IAAM2B,EAAiB,aAAe1B,EAAgB,gDAC3EE,EAAiBwB,EAAiB,kBAAoB1B,EAAgB,IACxE,CA6EA,MAAO,CACLoC,kBA1DwB,SAAU5B,EAASgB,GAC3C,GAAIlB,EACFE,EAAQF,YAAY,WAAYkB,OAC3B,CACL,IAAKhB,EAAQE,mBAAoB,CAC/B,MAAM2B,EAAM7B,EAAQd,cACd4C,EAAetG,EAAa4C,iBAAiB4B,GAC/C8B,GAA0C,WAA1BA,EAAaC,WAC/B/B,EAAQ7B,MAAM4D,SAAW,YA3BZ,SAAUF,GAC7B,IAAKA,EAAIG,eAAe,uBAAwB,CAE9C,MAAMzM,GAAOgK,GAA0C,IAAM,uBAAyBG,GAAkC,IAA5G,6VACVuC,EAAOJ,EAAII,MAAQJ,EAAIK,qBAAqB,QAAQ,GACpD/D,EAAQ0D,EAAIL,cAAc,SAC5BrD,EAAMgE,GAAK,sBACXhE,EAAMiE,KAAO,WACA,MAATpD,GACFb,EAAMkE,aAAa,QAASrD,GAE1Bb,EAAMmE,WACRnE,EAAMmE,WAAWC,QAAUhN,EAE3B4I,EAAMqE,YAAYX,EAAIY,eAAelN,IAEvC0M,EAAKO,YAAYrE,EACnB,CACF,CAWMuE,CAAab,GACb7B,EAAQY,eAAiB,CAAC,EAC1BZ,EAAQc,oBAAsB,IAC7Bd,EAAQE,mBAAqB2B,EAAIL,cAAc,QAAQlM,UAAY,kBACpE,MAAMqN,EAAgBd,EAAIL,cAAc,OACxCmB,EAAcrN,UAAY,iBAC1BqN,EAAcH,YAAYX,EAAIL,cAAc,QAC5C,MAAMoB,EAAkBf,EAAIL,cAAc,OAC1CoB,EAAgBtN,UAAY,mBAC5B0K,EAAQE,mBAAmBsC,YAAYG,GACvC3C,EAAQE,mBAAmBsC,YAAYI,GACvC5C,EAAQwC,YAAYxC,EAAQE,oBAC5BN,EAAcI,GACdA,EAAQ6C,iBAAiB,SAAUhD,GAAgB,GAG/CJ,IACFO,EAAQE,mBAAmB4C,sBAAwB,SAA2BvO,GACxEA,EAAEiL,gBAAkBA,GACtBI,EAAcI,EAElB,EACAA,EAAQE,mBAAmB2C,iBAAiBpD,EAAqBO,EAAQE,mBAAmB4C,uBAEhG,CACA9C,EAAQc,oBAAoBiC,KAAK/B,EACnC,CACF,EAsBEgC,qBArB2B,SAAUhD,EAASgB,GAC9C,GAAIlB,EACFE,EAAQiD,YAAY,WAAYjC,QAGhC,GADAhB,EAAQc,oBAAoBoC,OAAOlD,EAAQc,oBAAoB/I,QAAQiJ,GAAK,IACvEhB,EAAQc,oBAAoBY,OAAQ,CACvC1B,EAAQmD,oBAAoB,SAAUtD,GAAgB,GAClDG,EAAQE,mBAAmB4C,wBAC7B9C,EAAQE,mBAAmBiD,oBAAoB1D,EAAqBO,EAAQE,mBAAmB4C,uBAC/F9C,EAAQE,mBAAmB4C,sBAAwB,MAErD,IACE9C,EAAQE,oBAAsBF,EAAQoD,YAAYpD,EAAQE,mBAC5D,CAAE,MAAO3L,GAET,CACF,CAEJ,EAKF,CAmFsC8O,CAA0BrE,GACtD3K,KAAKkJ,qBAAqBqE,kBAAkBvN,KAAKmJ,YAAanJ,KAAKsJ,YAErEtJ,KAAKsJ,aAGX,CACA2F,uBACMjP,KAAKmJ,cACHnJ,KAAKkJ,sBACPlJ,KAAKkJ,qBAAqByF,qBAAqB3O,KAAKmJ,YAAanJ,KAAKsJ,WAEhD,OAApBtJ,KAAKqJ,YACP7B,aAAaxH,KAAKqJ,YAEhBrJ,KAAKoJ,kBACPpJ,KAAKoJ,gBAAgB6B,QAAQjL,KAAKmJ,aAClCnJ,KAAKoJ,gBAAgB8F,cAG3B,CACAC,SACE,MAAM,SACJhN,EAAQ,cACR0G,EAAa,aACbG,EAAY,cACZO,GAAgB,EAAK,aACrBC,GAAe,EAAK,MACpBmB,EAAK,SACLlB,EAAQ,MACRK,EAAQ,CAAC,EAAC,QACVsF,EAAU,SACPC,GACDrP,KAAK0B,OACH,OACJkH,EAAM,aACNE,EAAY,YACZC,EAAW,MACX1D,GACErF,KAAK2I,MAKH2G,EAAa,CACjBC,SAAU,WAENC,EAAc,CAAC,EAIrB,IAAIC,GAAoB,EAiBxB,OAhBKlG,IACY,IAAXX,IACF6G,GAAoB,GAEtBH,EAAW1G,OAAS,EACpB4G,EAAY5G,OAASA,EACrB4G,EAAY1G,aAAeA,GAExBU,IACW,IAAVnE,IACFoK,GAAoB,GAEtBH,EAAWjK,MAAQ,EACnBmK,EAAYnK,MAAQA,EACpBmK,EAAYzG,YAAcA,IAErB,IAAAoE,eAAciC,EAAS,CAC5BM,IAAK1P,KAAKwK,QACVV,MAAO,IACFwF,KACAxF,MAEFuF,IACDI,GAAqBtN,EAASqN,GACpC,E,qICnWK,MAAMG,EAAoC,EAC/CC,aACAC,WACAC,aACAC,QACAC,QAASC,MAET,MAAOC,EAAQC,GAAaC,IAAAA,YACrBJ,EAASK,GAAcD,IAAAA,SAAeH,QAAAA,EAAgB,KAEtDK,EAAWC,GAAgBH,IAAAA,SAAiC,OAE5DI,EAAeC,GAAoBL,IAAAA,SAAwD,KAC3FM,EAAwBC,GAA6BP,IAAAA,UAAwB,GAE9EQ,EAAcR,IAAAA,aAAkB,IAC7BR,EAAWiB,YAAY,QAAI7R,GAAW8R,MAC1CC,IACC,MAAMC,EAAUD,EAAOE,KAAKrQ,IAAW,CAAEE,MAAOF,EAAME,MAAOF,MAAOA,EAAMA,UAEpEsQ,GAAcC,EAAAA,EAAAA,MAAKH,GAAUd,GAAWA,EAAOtP,QAAUmP,EAAMtM,SAIrE,OAFA0M,OAA0BnR,IAAhBkS,EAA4B,CAAEpQ,MAAO,GAAIF,MAAO,IAAOsQ,GAE1DF,CAAO,IAEfI,IAIC,MAHAjB,EAAU,CAAErP,MAAO,GAAIF,MAAO,KAC9B6P,EAAiB,IAEX,IAAIY,MAAMD,EAASE,WAAW,KAGvC,CAAC1B,EAAYG,EAAMtM,SAEhB8N,EAAuBnB,IAAAA,aAAkB,KAC7CO,GAA0B,GAC1BC,IACGE,MAAME,IACLP,EAAiBO,EAAQ,IAE1BQ,SAAQ,KACPb,GAA0B,EAAM,GAChC,GACH,CAACC,EAAaH,EAAkBE,IAqBnC,OAlBAP,IAAAA,WAAgB,IAAMmB,KAAwB,IAE9CnB,IAAAA,WAAgB,K,aACQpR,IAAlBkR,GAAQtP,OAAyC,KAAlBsP,GAAQtP,QAIzB,OAAd0P,GAAsBJ,GAAQtP,QAAU0P,EAAUJ,QAAUF,IAAYM,EAAUN,UAItFO,EAAa,CAAEP,UAASE,OAAQA,EAAOtP,MAAM6Q,aAE7C5B,G,wUAAS,IAAKE,G,WAAAA,CAAOC,UAASvM,OAAQyM,EAAOtP,MAAM6Q,a,kVAEnD3B,KAAY,GACX,CAACE,EAASE,IAGX,oCACE,kBAACwB,EAAAA,eAAcA,KACb,kBAACC,EAAAA,YAAWA,KACV,kBAACC,EAAAA,OAAMA,CACLC,UAAWnB,EACXoB,OAAO,WACP/P,QAASyO,EACTuB,YAAY,gBACZC,kBAAAA,EACApR,MAAOsP,EACPL,SAAWrL,IACT2L,EAAU3L,EAAE,MAKpB,kBAACkN,EAAAA,eAAcA,KACb,kBAACpJ,EAASA,CAACiB,eAAAA,IACR,EAAGlE,WACF,kBAAC1D,MAAAA,CAAImI,MAAO,CAAEzE,MAAOA,EAAQ,OAC3B,kBAAC4M,EAAAA,YAAWA,KAAC,WACb,kBAACC,EAAAA,WAAUA,CACT7M,MAAM,OACNuD,OAAO,QACPuJ,SAAS,OACTC,iBAAiB,EACjBC,YAAarC,EAAQ3C,OAAS,IAC9BzM,MAAOoP,EACPsC,OAAS1R,GAAUyP,EAAWzP,S,ECrDjC2R,GAAuBC,EAAAA,EAAAA,aAzBW,EAAGhQ,QAAOiQ,gBAAe7R,YACtE,MAAMwB,EAZU,CAACI,IACjB,MAAMkQ,EAZR,SAAwBlQ,GACtB,MAAO,CACLmQ,QAAS,yBACTC,cAAe,MACfC,UAAW,aAAarQ,EAAMqE,OAAOiM,WAAWC,uBAAuBvQ,EAAMqE,OAAOK,QAAQ8L,OAC5FC,yBAA0B,iCAC1BC,mBAAoB,OACpBC,mBAAoB,sCAExB,CAGsBC,CAAe5Q,GACnC,MAAO,CACL8B,QAASpD,EAAAA,GAAG;;UAENwR;;MAGP,EAIcpQ,CAAUE,GACnB6Q,EAAOjD,IAAAA,YACDpR,IAAV4B,EACI,SACA,QAAQA,EAAM0S,QAAQ,aAAc,iBAAiBA,QAAQ,MAAO,mCAG1E,OACE,kBAAC3R,MAAAA,CAAIV,WAAWoD,EAAAA,EAAAA,IAAG,6BAA8BjC,EAAOkC,UACtD,kBAAC3C,MAAAA,CACC4R,wBAAyB,CAAEC,OAAQH,EAAKI,SACxCC,iBAAiB,EACjB5J,MAAO,CAAEzE,MAAO,OAAQsN,QAAS,QACjCL,OAASqB,IACPlB,EAAckB,EAAIC,cAAcC,UAAUP,QAAQ,QAAS,MAAM,EAEnEQ,QAAUtP,IACR6O,EAAKI,QAAUjP,EAAEoP,cAAcG,SAAS,I,4HCvC3C,MAAMC,EAA+D,EAC1EC,SACArE,aACAG,QACAmE,kBACAC,UACAvT,YAEA,MAAOwT,EAAeC,GAAoBjE,IAAAA,YAGnCkE,EAAyBC,GAA8BnE,IAAAA,UAAwB,IAC/EoE,EAAgBC,GAAqBrE,IAAAA,SAAwD,IAC9FsE,EAA2BtE,IAAAA,aAAkB,K,IACOL,EAAxD,OAAOH,EAAW+E,yBAAyBV,EAAO3S,KAAkB,QAAZyO,EAAAA,EAAMtM,cAANsM,IAAAA,EAAAA,EAAgB,GAAIA,EAAMC,SAASc,MACxFE,IACC,GAAIpQ,EAAO,CACT,MAAMgU,EAAOhF,EAAWiF,eACxB,IAAK,MAAMrV,KAAOoV,EACZlV,OAAOY,UAAUC,eAAeC,KAAKoU,EAAMpV,IAC7CwR,EAAQtC,KAAK,CAAE5N,MAAO,IAAItB,IAAOoB,MAAO,IAAIpB,MAIhD,IAAIsV,EAAAA,EAAAA,SAAQV,GACV,IAAK,IAAIW,EAAQ,EAAGA,EAAQX,EAAc/G,OAAQ0H,SAE5B/V,IADAgS,EAAQG,MAAM6D,GAASA,EAAKpU,QAAUwT,EAAcW,GAAOnU,SAE7EoQ,EAAQtC,KAAK,CACX9N,MAAOwT,EAAcW,GAAOnU,MAC5BE,MAAOsT,EAAcW,GAAOjU,aAIzBsT,QAEWpV,IADAgS,EAAQG,MAAM6D,GAASA,EAAKpU,QAAUwT,EAAcxT,SAEtEoQ,EAAQtC,M,wUAAK,IAAK0F,G,WAAAA,CAAexT,MAAOwT,EAAcxT,MAAOE,MAAOsT,EAActT,Q,iVAGxF,C,QAEA,OAAOkQ,CAAO,IAEfI,IAGC,MAFAqD,EAAkB,IAEZ,IAAIpD,MAAMD,EAASE,WAAW,GACtC,GAED,CAAC1B,EAAYG,EAAMC,QAASD,EAAMtM,SAE/BwR,EAA0B7E,IAAAA,aAAkB,KAChDmE,GAA2B,GAC3BG,IACG5D,MAAM/O,IACL0S,EAAkB1S,EAAQ,IAE3ByP,SAAQ,KACP+C,GAA2B,EAAM,GACjC,GACH,CAACG,EAA0BD,EAAmBF,I,IAqCpCN,EACIA,EAPjB,OA5BA7D,IAAAA,WAAgB,KACVxP,GACFqU,GACF,GACC,IAEH7E,IAAAA,WAAgB,KACd,GAAIxP,EACF,IAAIkU,EAAAA,EAAAA,SAAQlU,GAAQ,CAClB,MAAMsU,EAAeV,EAAeW,QAAQH,IAASI,EAAAA,EAAAA,UAASxU,EAAOoU,EAAKpU,SACtEsU,EACFb,EAAiBa,GACRtU,GACTyT,EAAiB,CAAC,CAAEvT,MAAOF,EAAOA,MAAOA,IAE7C,KAAO,CACL,MAAMyU,EAAcb,EAAerD,MAAM6D,GAASA,EAAKpU,QAAUA,IAC7DyU,EACFhB,EAAiBgB,GACRzU,GACTyT,EAAiB,CAAEvT,MAAOF,EAAM6Q,WAAY7Q,MAAOA,GAEvD,MAEAyT,OAAiBrV,EACnB,GACC,CAAC+Q,EAAMC,QAASwE,IAGjB,kBAAC5C,EAAAA,OAAMA,CACLpS,IAAKyU,EAAO3S,KACZ+D,MAAO4O,EAAO5O,MACdwM,UAAWyC,EACXxC,OAAQmC,EAAOnT,MACfiB,QAAuB,QAAdkS,EAAAA,EAAOlS,eAAPkS,IAAAA,EAAAA,EAAkBO,EAC3BzC,YAA+B,QAAlBkC,EAAAA,EAAOlC,mBAAPkC,IAAAA,EAAAA,EAAsB,GACnCjC,kBAAAA,EACAsD,aAAa,EACbnB,QAASA,EACTvT,MAAOwT,EACPmB,WAAY,KACLtB,EAAOlS,SACVkT,GACF,EAEFpF,SAAWrL,IACT0P,EAAgB1P,EAAE,G,EC5HpBgR,EAAE9U,OAAO,uBAAuBR,EAAEQ,OAAO,0BAA0BxB,EAAE,mCAAmCuB,EAAE+U,GAAGC,QAAQD,GAAG,iBAAiBA,GAAGpI,EAAElN,GAAGA,KAAKA,EAAEsV,GAAGE,EAAE,CAACxW,EAAEO,EAAEkW,KAAK,GAAGvI,EAAElO,GAAG,CAAC,MAAMgB,EAAEhB,EAAEsW,MAAMI,QAAQnV,EAAEoV,WAAWzI,GAAGlN,EAAE4V,MAAMrW,GAAG,OAAOgB,GAAG2M,GAAG1N,OAAOqW,KAAK3I,GAAGV,SAAQ8I,GAAGG,EAAEH,EAAEpI,EAAEoI,MAAK/U,CAAC,CAAC,GAAGA,EAAEvB,GAAG,CAAC,IAAIuB,EAAEhB,GAAG,OAAM,EAAG,GAAGuW,MAAMlB,QAAQ5V,GAAG,CAAC,IAAI8W,MAAMlB,QAAQrV,GAAG,OAAM,EAAG,IAAI+V,EAAE,GAAG/U,EAAE,GAAGnB,EAAE,GAAG,IAAI,MAAMoW,KAAKxW,EAAE6W,OAAO,CAAC,MAAMtW,EAAEP,EAAEwW,GAAGtI,EAAE3N,IAAIA,EAAES,GAAGZ,EAAEoP,KAAKjP,GAAGH,EAAE+N,OAAO5M,EAAEiO,KAAKjP,GAAG+V,EAAE9G,KAAKjP,EAAE,CAAC,GAAGH,EAAE+N,OAAO,CAAC,GAAG/N,EAAE+N,OAAO,EAAE,MAAM,IAAIgE,MAAM,4FAA4F,GAAG5R,EAAE4N,OAAOmI,EAAEnI,OAAO5M,EAAE4M,OAAO,OAAM,EAAG,MAAMnN,EAAET,EAAEwW,MAAM,EAAET,EAAEnI,QAAQnO,EAAE,IAAIuB,EAAE4M,OAAO,GAAG5N,EAAEwW,OAAOxV,EAAE4M,QAAQD,EAAE3N,EAAEwW,MAAMT,EAAEnI,OAAO,IAAI5M,EAAE4M,OAAO6I,KAAUzV,EAAE4M,QAAQ,OAAOmI,EAAEW,OAAM,CAACX,EAAEtW,IAAIwW,EAAEF,EAAEtV,EAAEhB,GAAGyW,MAAKlV,EAAE0V,OAAM,CAACX,EAAEtV,IAAIwV,EAAEF,EAAEtW,EAAEgB,GAAGyV,OAAM,IAAIrW,EAAE+N,QAAQqI,EAAEpW,EAAE,GAAG8N,EAAEuI,GAAG,CAAC,OAAOzW,EAAEmO,SAAS5N,EAAE4N,QAAQnO,EAAEiX,OAAM,CAACX,EAAEtV,IAAIwV,EAAEF,EAAE/V,EAAES,GAAGyV,IAAG,CAAC,OAAOjW,OAAOqW,KAAK7W,GAAGiX,OAAMjW,IAAI,MAAMO,EAAEvB,EAAEgB,GAAG,OAAOA,KAAKT,GAAG2N,EAAE9N,EAAEmB,IAAI,aAAanB,EAAEkW,KAAKY,cAAcV,EAAEjV,EAAEhB,EAAES,GAAGyV,GAAG,IAAIrW,IAAG,CAAC,OAAOI,OAAO2W,GAAG5W,EAAEP,EAAC,EAAGO,EAAES,IAAI,IAAIhB,EAAEwW,EAAEpW,EAAE,OAAOmB,EAAEP,GAAGkN,EAAElN,GAAG,OAAOhB,EAAE,OAAOwW,GAAGpW,EAAEY,EAAEsV,MAAMc,uBAAkB,EAAOZ,EAAElV,KAAKlB,IAAIJ,EAAE,GAAG8W,MAAMlB,QAAQ5U,GAAGyV,GAAEzV,EAAET,GAAGkW,GAAEjW,OAAO6W,OAAOrW,GAAGT,GAAG,EAAC,EAAGkW,GAAE,CAACH,EAAEtV,IAAIsV,EAAEgB,QAAO,CAAChB,EAAEtW,IAAIsW,EAAEiB,OAAOvW,EAAEhB,KAAI,IAA6O,SAASwX,GAAElB,GAAG,OAAO9V,OAAOiX,OAAOnB,EAAE,CAACtQ,SAAS,IAAI0R,GAAEpB,GAAGqB,IAAI3W,GAAG4W,GAAEtB,EAAEtV,GAAG6W,GAAG7W,GAAG8W,GAAExB,EAAEtV,GAAG+W,OAAO/W,QAAG,IAASA,EAAEb,GAAEmW,GAAGnW,GAAEa,EAAEsV,IAAI,CAAC,SAAS/Q,GAAE+Q,GAAG,OAAO9V,OAAOiX,OAAO,CAACnB,GAAG9V,OAAOiX,OAAOnB,EAAE,CAAC,EAAE9U,OAAOwW,kBAAkBxX,OAAOiX,OAAOnB,EAAE,CAAC,CAACtV,IAAG,GAAI,IAAzE,CAA8EsV,GAAG,CAACtQ,SAAS,IAAIT,GAAEmS,GAAEpB,IAAIyB,OAAO/W,GAAGuE,QAAE,IAASvE,EAAEb,GAAEmW,GAAGnW,GAAEa,EAAEsV,KAAK,CAAC,SAASoB,GAAE1W,GAAG,OAAOwW,GAAE,CAAC,CAAClB,GAAG,KAAI,CAAEM,MAAMN,IAAI,IAAItW,EAAE,CAAC,EAAE,MAAMuB,EAAE,CAAC+U,EAAEtV,KAAKhB,EAAEsW,GAAGtV,GAAG,YAAO,IAASsV,GAAG/V,EAAES,GAAGwM,SAAQ8I,GAAG/U,EAAE+U,OAAE,KAAS,CAACI,SAAQ,EAAGC,WAAW3W,IAAI,CAAC0W,QAAQF,EAAExV,EAAEsV,EAAE/U,GAAGoV,WAAW3W,EAAC,EAAGoX,iBAAiB,IAAI7W,EAAES,GAAGkW,YAAY,cAAc,CAAC,MAAMtW,GAAE,CAAC0V,EAAEtV,KAAK,IAAI,MAAMhB,KAAKsW,EAAE,IAAItV,EAAEhB,GAAG,OAAM,EAAG,OAAM,CAAC,EAAGiY,GAAE,CAAC3B,EAAEtV,KAAK,IAAI,MAAMhB,EAAEuB,KAAK+U,EAAE4B,UAAU,IAAIlX,EAAEO,EAAEvB,GAAG,OAAM,EAAG,OAAM,CAAC,EAAG,SAAS4X,MAAK5W,GAAG,OAAOwW,GAAE,CAAC,CAAClB,GAAG,KAAI,CAAEM,MAAMN,IAAI,IAAItW,EAAE,CAAC,EAAE,MAAMuB,EAAE,CAAC+U,EAAEtV,KAAKhB,EAAEsW,GAAGtV,GAAG,MAAM,CAAC0V,QAAQ1V,EAAEiW,OAAMjW,GAAGwV,EAAExV,EAAEsV,EAAE/U,KAAIoV,WAAW3W,EAAC,EAAGoX,iBAAiB,IAAIX,GAAEzV,EAAET,GAAG2W,YAAY,SAAS,CAAC,SAASY,MAAK9W,GAAG,OAAOwW,GAAE,CAAC,CAAClB,GAAG,KAAI,CAAEM,MAAMN,IAAI,IAAItW,EAAE,CAAC,EAAE,MAAMuB,EAAE,CAAC+U,EAAEtV,KAAKhB,EAAEsW,GAAGtV,GAAG,OAAOyV,GAAEzV,EAAET,GAAGiN,SAAQ8I,GAAG/U,EAAE+U,OAAE,KAAS,CAACI,QAAQ1V,EAAEmX,MAAKnX,GAAGwV,EAAExV,EAAEsV,EAAE/U,KAAIoV,WAAW3W,EAAC,EAAGoX,iBAAiB,IAAIX,GAAEzV,EAAET,GAAG2W,YAAY,QAAQ,CAAC,SAASkB,GAAEpX,GAAG,MAAM,CAAC,CAACsV,GAAG,KAAI,CAAEM,MAAMN,IAAG,CAAEI,QAAQH,QAAQvV,EAAEsV,QAAQ,CAAC,SAASnW,MAAKa,GAAG,MAAMO,EAAE,iBAAiBP,EAAE,GAAGA,EAAE,QAAG,EAAOkN,EAAE,IAAIlN,EAAEmN,OAAOnN,EAAE,GAAG,iBAAiBA,EAAE,QAAG,EAAOA,EAAE,GAAG,OAAOwW,GAAE,CAAC,CAAClB,GAAG,KAAI,CAAEM,MAAMN,IAAI,IAAItV,EAAE,CAAC,CAAC,MAAMO,EAAEA,EAAEvB,GAAGsW,GAAG,MAAM,CAACI,aAAQ,IAASxI,GAAGsI,EAAEtI,EAAEoI,GAAE,CAACA,EAAEtW,KAAKgB,EAAEsV,GAAGtW,KAAI2W,WAAW3V,EAAC,EAAGoW,iBAAiB,IAAI,CAAC,MAAM7V,EAAEA,EAAEvB,GAAGuX,YAAO,IAASrJ,EAAE,GAAG3N,EAAE2N,OAAO,CAAC,SAAS5I,GAAEgR,GAAG,MAAM,iBAAiBA,CAAC,CAAC,SAASpP,GAAEoP,GAAG,MAAM,iBAAiBA,CAAC,CAAC,SAAS+B,GAAE/B,GAAG,MAAM,iBAAiBA,CAAC,CAAC,MAAMgC,GAAEd,GAAEY,IAAE,SAAS9B,GAAG,OAAM,CAAE,KAAIiC,GAAED,GAAEE,GAAElC,GAAG9V,OAAOiX,OAAOD,GAAElB,GAAG,CAACmC,WAAWzX,IAAI,OAAOwX,GAAEZ,GAAEtB,GAAGtW,EAAEgB,EAAEoX,IAAE9B,GAAGpP,GAAEoP,IAAIA,EAAEmC,WAAWzY,QAAO,IAAIA,GAAG0Y,SAAS1X,IAAI,OAAOwX,GAAEZ,GAAEtB,GAAGtW,EAAEgB,EAAEoX,IAAE9B,GAAGpP,GAAEoP,IAAIA,EAAEoC,SAAS1Y,QAAO,IAAIA,GAAG2Y,UAAU3X,GAAGwX,GAAEZ,GAAEtB,EAAE,CAACA,GAAG8B,IAAEpX,GAAGkG,GAAElG,IAAIA,EAAEmN,QAAQmI,IAAzB,CAA6BtV,KAAK4X,UAAU5X,GAAGwX,GAAEZ,GAAEtB,EAAE,CAACA,GAAG8B,IAAEpX,GAAGkG,GAAElG,IAAIA,EAAEmN,QAAQmI,IAAzB,CAA6BtV,KAAKkV,SAASlV,IAAI,OAAOwX,GAAEZ,GAAEtB,GAAGtW,EAAEgB,EAAEoX,IAAE9B,GAAGpP,GAAEoP,IAAIA,EAAEJ,SAASlW,QAAO,IAAIA,GAAG6Y,MAAM7X,IAAI,OAAOwX,GAAEZ,GAAEtB,GAAGtW,EAAEgB,EAAEoX,IAAE9B,GAAGpP,GAAEoP,IAAIC,QAAQD,EAAEM,MAAM5W,SAAQ,IAAIA,KAAK8Y,GAAEN,GAAEJ,GAAElR,KAAI6R,GAAE,CAACzC,EAAEtV,IAAIoX,IAAEpY,GAAGsF,GAAEtF,IAAIsW,GAAGtW,GAAGgB,GAAGhB,IAAGgZ,GAAE1C,GAAG8B,IAAEpX,GAAGsE,GAAEtE,IAAIA,EAAEsV,IAAG2C,GAAE3C,GAAG8B,IAAEpX,GAAGsE,GAAEtE,IAAIA,EAAEsV,IAAG4C,GAAE5C,GAAG8B,IAAEpX,GAAGsE,GAAEtE,IAAIA,GAAGsV,IAAG6C,GAAE7C,GAAG8B,IAAEpX,GAAGsE,GAAEtE,IAAIA,GAAGsV,IAAG8C,GAAE,IAAIhB,IAAE9B,GAAGhR,GAAEgR,IAAI+C,OAAOC,UAAUhD,KAAIiD,GAAE,IAAInB,IAAE9B,GAAGhR,GAAEgR,IAAI+C,OAAOG,SAASlD,KAAImD,GAAE,IAAIrB,IAAE9B,GAAGhR,GAAEgR,IAAIA,EAAE,IAAGoD,GAAE,IAAItB,IAAE9B,GAAGhR,GAAEgR,IAAIA,EAAE,IAAGqD,GAAErD,GAAG9V,OAAOiX,OAAOD,GAAElB,GAAG,CAACsD,QAAQ,CAAC5Y,EAAEhB,IAAI2Z,GAAE/B,GAAEtB,EAAEyC,GAAE/X,EAAEhB,KAAK6Z,GAAG7Y,GAAG2Y,GAAE/B,GAAEtB,EAAE0C,GAAEhY,KAAK8Y,GAAG9Y,GAAG2Y,GAAE/B,GAAEtB,EAAE2C,GAAEjY,KAAK+Y,IAAI/Y,GAAG2Y,GAAE/B,GAAEtB,EAAE4C,GAAElY,KAAKgZ,IAAIhZ,GAAG2Y,GAAE/B,GAAEtB,EAAE6C,GAAEnY,KAAKiZ,IAAI,IAAIN,GAAE/B,GAAEtB,EAAE8C,OAAMc,OAAO,IAAIP,GAAE/B,GAAEtB,EAAEiD,OAAMY,SAAS,IAAIR,GAAE/B,GAAEtB,EAAEmD,OAAMW,SAAS,IAAIT,GAAE/B,GAAEtB,EAAEoD,SAAQW,GAAEV,GAAEvB,GAAE9S,KAAIgV,GAAE,CAAChE,EAAEtV,IAAIoX,IAAEpY,GAAGqY,GAAErY,IAAIsW,GAAGtW,GAAGgB,GAAGhB,IAAGua,GAAEjE,GAAG8B,IAAEpX,GAAGqX,GAAErX,IAAIA,EAAEsV,IAAGkE,GAAElE,GAAG8B,IAAEpX,GAAGqX,GAAErX,IAAIA,EAAEsV,IAAGmE,GAAEnE,GAAG8B,IAAEpX,GAAGqX,GAAErX,IAAIA,GAAGsV,IAAGoE,GAAEpE,GAAG8B,IAAEpX,GAAGqX,GAAErX,IAAIA,GAAGsV,IAAGqE,GAAE,IAAIvC,IAAE9B,GAAG+B,GAAE/B,IAAIA,EAAE,IAAGsE,GAAE,IAAIxC,IAAE9B,GAAG+B,GAAE/B,IAAIA,EAAE,IAAGuE,GAAEvE,GAAG9V,OAAOiX,OAAOD,GAAElB,GAAG,CAACsD,QAAQ,CAAC5Y,EAAEhB,IAAI6a,GAAEjD,GAAEtB,EAAEgE,GAAEtZ,EAAEhB,KAAK6Z,GAAG7Y,GAAG6Z,GAAEjD,GAAEtB,EAAEiE,GAAEvZ,KAAK8Y,GAAG9Y,GAAG6Z,GAAEjD,GAAEtB,EAAEkE,GAAExZ,KAAK+Y,IAAI/Y,GAAG6Z,GAAEjD,GAAEtB,EAAEmE,GAAEzZ,KAAKgZ,IAAIhZ,GAAG6Z,GAAEjD,GAAEtB,EAAEoE,GAAE1Z,KAAKmZ,SAAS,IAAIU,GAAEjD,GAAEtB,EAAEqE,OAAMP,SAAS,IAAIS,GAAEjD,GAAEtB,EAAEsE,SAAQE,GAAED,GAAEzC,GAAEC,KAAI0C,GAAEvD,GAAEY,IAAE,SAAS9B,GAAG,MAAM,kBAAkBA,CAAC,KAAI0E,GAAExD,GAAEY,IAAE,SAAS9B,GAAG,MAAM,iBAAiBA,CAAC,KAAI2E,GAAEzD,GAAEY,IAAE,SAAS9B,GAAG,OAAO,MAAMA,CAAC,KAAI,IAAI4E,GAAE,CAACC,UAAU,KAAKC,QAAQ9E,EAAEtQ,SAAS0R,GAAE2D,MAAM,YAAYra,GAAG,OAAOuE,GAAE,CAAC,CAAC+Q,GAAG,KAAI,CAAEM,MAAMN,IAAI,IAAIQ,MAAMlB,QAAQU,GAAG,MAAM,CAACI,SAAQ,GAAI,GAAG,IAAI1V,EAAEmN,OAAO,MAAM,CAACuI,SAAQ,GAAI,MAAM1W,EAAEgB,EAAE,GAAG,IAAIO,EAAE,CAAC,EAAE,GAAG,IAAI+U,EAAEnI,OAAO,OAAO5N,EAAEP,GAAGwN,SAAQ8I,IAAI/U,EAAE+U,GAAG,EAAC,IAAI,CAACI,SAAQ,EAAGC,WAAWpV,GAAG,MAAM2M,EAAE,CAACoI,EAAEtV,KAAKO,EAAE+U,IAAI/U,EAAE+U,IAAI,IAAIiB,OAAO,CAACvW,GAAE,EAAG,MAAM,CAAC0V,QAAQJ,EAAEW,OAAMX,GAAGE,EAAExW,EAAEsW,EAAEpI,KAAIyI,WAAWpV,EAAC,EAAG6V,iBAAiB,IAAI,IAAIpW,EAAEmN,OAAO,GAAG5N,EAAES,EAAE,OAAO,EAAEsa,IAAI,YAAYta,GAAG,OAAOwW,GAAE,CAAC,CAAClB,GAAG,KAAI,CAAEM,MAAMN,IAAI,KAAKA,aAAaiF,KAAK,MAAM,CAAC7E,SAAQ,GAAI,IAAI1W,EAAE,CAAC,EAAE,GAAG,IAAIsW,EAAE1T,KAAK,MAAM,CAAC8T,SAAQ,EAAGC,WAAW3W,GAAG,GAAG,IAAIgB,EAAEmN,OAAO,MAAM,CAACuI,SAAQ,GAAI,MAAMnV,EAAE,CAAC+U,EAAEtV,KAAKhB,EAAEsW,IAAItW,EAAEsW,IAAI,IAAIiB,OAAO,CAACvW,GAAE,EAAGkN,EAAElN,EAAE,GAAG,MAAM,CAAC0V,QAAQ9V,GAAE0V,GAAEA,GAAGE,EAAEtI,EAAEoI,EAAE/U,KAAIoV,WAAW3W,EAAC,EAAGoX,iBAAiB,IAAI,IAAIpW,EAAEmN,OAAO,GAAG5N,EAAES,EAAE,OAAO,EAAE+Q,IAAI,YAAY/Q,GAAG,OAAOwW,GAAE,CAAC,CAAClB,GAAG,KAAI,CAAEM,MAAMN,IAAI,KAAKA,aAAakF,KAAK,MAAM,CAAC9E,SAAQ,GAAI,IAAI1W,EAAE,CAAC,EAAE,GAAG,IAAIsW,EAAE1T,KAAK,MAAM,CAAC8T,SAAQ,EAAGC,WAAW3W,GAAG,MAAMuB,EAAE,CAAC+U,EAAEtV,KAAKhB,EAAEsW,IAAItW,EAAEsW,IAAI,IAAIiB,OAAO,CAACvW,GAAE,EAAG,GAAG,IAAIA,EAAEmN,OAAO,MAAM,CAACuI,SAAQ,GAAI,IAAIxI,EAAE,GAAG,IAAIlN,EAAEmN,OAAO,MAAM,IAAIgE,MAAM,4EAA4E,OAAOjE,EAAElN,EAAE,SAAI,EAAOkN,EAAEqE,cAAc,MAAMhS,EAAEkW,GAAGzV,EAAE,MAAM,CAAC0V,QAAQuB,GAAE3B,GAAE,CAACA,EAAEtV,KAAK,MAAMhB,EAAEwW,EAAEjW,EAAES,EAAEO,GAAG2M,EAAEsI,EAAEC,EAAEH,EAAE/U,GAAG,OAAOvB,GAAGkO,KAAIyI,WAAW3W,EAAC,EAAGoX,iBAAiB,IAAI,IAAIpW,EAAEmN,OAAO,GAAG,IAAI5N,EAAES,EAAE,OAAOT,EAAES,EAAE,QAAQ,EAAEya,aAAa7D,GAAE8D,MAAM5D,GAAE6D,IAAI,SAAS3a,GAAG,OAAOwW,GAAE,CAAC,CAAClB,GAAG,KAAI,CAAEM,MAAMN,IAAG,CAAEI,SAASF,EAAExV,EAAEsV,GAAE,WAAUc,iBAAiB,IAAI,GAAGF,YAAY,SAAS,EAAE0E,KAAKxD,GAAEL,OAAO5X,GAAE0b,IAAIvD,GAAEoB,EAAEnB,GAAEuD,OAAOhD,GAAEc,QAAQb,GAAEc,GAAGb,GAAEc,GAAGb,GAAEc,IAAIb,GAAEc,IAAIb,GAAEc,IAAIb,GAAEc,OAAOX,GAAEY,SAASV,GAAEW,SAASV,GAAEqC,OAAO1B,GAAE2B,cAAc1B,GAAE2B,SAAS1B,GAAE2B,SAAS1B,GAAE2B,UAAU1B,GAAE2B,UAAU1B,GAAE2B,eAAe1B,GAAE2B,eAAe1B,GAAE2B,OAAOzB,GAAE0B,QAAQzB,GAAE0B,OAAOzB,GAAE0B,QAAQzB,GAAE0B,WAAW,SAASrG,GAAG,OAAOkB,GAAEY,GAAE,SAAS9B,GAAG,OAAOtV,GAAGA,aAAasV,CAAC,CAApC,CAAsCA,IAAI,EAAEsG,MAAM,SAAStG,GAAG,OAAOkB,GAAEY,GAAx2J,YAAc9B,GAAG,GAAG,IAAIA,EAAEnI,OAAO,CAAC,MAAMnN,GAAGsV,EAAE,OAAOA,GAAGE,EAAExV,EAAEsV,GAAE,QAAO,CAAC,GAAG,IAAIA,EAAEnI,OAAO,CAAC,MAAMnN,EAAEhB,GAAGsW,EAAE,OAAOE,EAAExV,EAAEhB,GAAE,QAAO,CAAC,MAAM,IAAImS,MAAM,oFAAoFmE,EAAEnI,UAAU,CAAkoJ/N,CAAEkW,IAAI,GAAG,SAASuG,GAAEvG,GAAG,OAAO,IAAIwG,GAAExG,EAAE,CAAC,MAAMyG,GAAE,CAACrG,SAAQ,EAAGhV,WAAM,GAAQ,MAAMob,GAAExT,YAAYgN,EAAEtV,EAAE+b,IAAGjc,KAAKkc,WAAM,EAAOlc,KAAK2I,WAAM,EAAO3I,KAAKkc,MAAM1G,EAAExV,KAAK2I,MAAMzI,CAAC,CAACic,QAAQ3G,GAAG,GAAGxV,KAAK2I,MAAMiN,QAAQ,OAAO5V,KAAK,MAAME,EAAEsV,EAAEA,EAAEnI,OAAO,GAAG5M,EAAE,CAAC+U,EAAE,IAAIpI,EAAE,GAAG,IAAIoI,EAAEnI,QAAQ,mBAAmBmI,EAAE,IAAI/U,EAAEiO,KAAK8G,EAAE,IAAIpI,EAAEsB,KAAK8G,EAAE,KAAKA,EAAEnI,OAAO,GAAG5M,EAAEiO,QAAQ8G,EAAES,MAAM,EAAET,EAAEnI,OAAO,IAAI,IAAI5N,EAAE,CAAC,EAAE,MAAMkW,EAAEF,QAAQhV,EAAE4W,MAAK7B,GAAGE,EAAEF,EAAExV,KAAKkc,OAAM,CAAC1G,EAAEtV,KAAKT,EAAE+V,GAAGtV,QAAMkN,EAAE+I,OAAMX,GAAGA,EAAExV,KAAKkc,UAAS,CAACtG,SAAQ,EAAGhV,MAAMV,EAAER,OAAOqW,KAAKtW,GAAG4N,OAAOnO,KAAKO,EAAEA,EAAEP,GAAGO,EAAEO,KAAKkc,MAAMlc,KAAKkc,QAAQD,GAAE,OAAO,IAAID,GAAEhc,KAAKkc,MAAMvG,EAAE,CAACmF,KAAKtF,EAAEtV,GAAG,GAAGF,KAAK2I,MAAMiN,QAAQ,OAAO5V,KAAK,MAAMd,EAAEuW,QAAQD,EAAExV,KAAKkc,QAAQ,OAAO,IAAIF,GAAEhc,KAAKkc,MAAMhd,EAAE,CAAC0W,SAAQ,EAAGhV,MAAMV,EAAEF,KAAKkc,MAAMlc,KAAKkc,QAAQD,GAAE,CAACG,UAAU5G,GAAG,OAAOxV,KAAK2I,MAAMiN,QAAQ5V,KAAK2I,MAAM/H,MAAM4U,EAAExV,KAAKkc,MAAM,CAACG,aAAa,OAAOrc,KAAKsc,KAAK,CAACA,MAAM,GAAGtc,KAAK2I,MAAMiN,QAAQ,OAAO5V,KAAK2I,MAAM/H,MAAM,IAAI4U,EAAE,IAAIA,EAAE+G,KAAKC,UAAUxc,KAAKkc,MAAM,CAAC,MAAMhc,GAAGsV,EAAExV,KAAKkc,KAAK,CAAC,MAAM,IAAI7K,MAAM,oDAAoDmE,IAAI,CAACiH,aAAa,OAAOzc,IAAI,ECYxkO,MAAMsC,IAAYoa,EAAAA,EAAAA,gBAAc,EAAGla,QAAOlB,WACxC,MAAM,MAAEsF,EAAK,YAAE+V,IAAgBC,EAAAA,EAAAA,sBAAqBtb,GAC9CsH,EAASpG,EAAMK,QAAQga,gBAAkB,EAE/C,MAAO,CACLC,UAAW5b,EAAAA,GAAG;;;gBAGF0H;qBACKA,EAAS;0BACJhC;eACXpE,EAAMua,QAAQC;0BACHL;;mBAEPna,EAAMK,QAAQoa;;;;;mBAKdza,EAAMiE,WAAW3E,KAAKob;MAGrCC,UAAWjc,EAAAA,GAAG;;MAIdkc,aAAclc,EAAAA,GAAG;;;;;MAMlB,IAGUmc,GAAuD,EAAG/b,OAAMV,QAAO0c,eAClF,MAAM9a,GAAQ+a,EAAAA,EAAAA,YACRnb,EAASE,GAAU,CAAEE,QAAOlB,SAE5Bkc,EAAiB1H,UAAalV,GACjCub,KAAK,UAAU,IAAM,IAAIvb,OACzBub,KAAK,UAAU,IAAMvb,IACrBub,KAAK,WAAW,IAAM,EAAmB1K,aACzC0K,KAAK,UAAU,IAAiB,OAAVvb,EAAiB,OAAS,IAAI2b,KAAKC,UAAU5b,QACnEwb,WAAU,IAAM,IAAIG,KAAKC,UAAU5b,QAEtC,OACE,kBAACe,MAAAA,CAAIV,UAAWmB,EAAO0a,WACrB,kBAACW,OAAAA,CAAKxc,UAAWmB,EAAO+a,WACrB7b,EAAK,IAAEkc,GAEV,kBAACE,EAAAA,WAAUA,CACTpc,KAAK,QACLQ,KAAK,KACL6b,UAAW,UAAUrc,IACrBsc,QAAS,IAAMN,EAAShc,GACxByM,KAAK,SACL9M,UAAWmB,EAAOgb,e,uzBC7CnB,MAAMS,GAAsCnc,IACjD,MAAM,WAAEkO,EAAU,SAAEC,EAAQ,WAAEC,EAAU,MAAEC,GAAUrO,GAC7CwO,EAAQC,GAAaC,IAAAA,W,IACiB1O,EAA7C,MAAOsO,EAASK,GAAcD,IAAAA,SAA4B,QAAb1O,EAAAA,EAAMsO,eAANtO,IAAAA,EAAAA,EAAiB,KAEvDoc,EAAgBC,GAAqB3N,IAAAA,SAA+B,KAEpEE,EAAWC,GAAgBH,IAAAA,SAAiC,OAC5D4N,EAAeC,GAAoB7N,IAAAA,SAAsC,KACzEI,EAAeC,GAAoBL,IAAAA,SAA+B,KAClEM,EAAwBC,GAA6BP,IAAAA,UAAwB,GAE9EQ,EAAcR,IAAAA,aAAkB,K,IACNF,EAAAA,EAA9B,OAAON,EAAWiB,YAAyC,QAA7BX,EAAQtP,QAARsP,EAAAA,GAAQtP,aAARsP,IAAAA,EAAAA,EAAiBH,EAAMtM,cAAvByM,IAAAA,EAAAA,EAAiC,GAAIF,GAASc,MACzEE,IACC,MAAME,GAAcC,EAAAA,EAAAA,MAAKH,GAAUd,GAAWA,EAAOtP,QAAUmP,EAAMtM,S,IAIpDyN,EACjB,OAJAf,OACkBnR,IAAhBkS,EAA4B,CAAEpQ,MAAO,GAAIF,MAAO,IAAO,CAAEE,MAAOoQ,EAAYpQ,MAAOF,MAAOsQ,EAAYtQ,QAExGqd,EAA8BC,QAAbhN,EAAAA,GAAagN,gBAAbhN,IAAAA,EAAAA,EAAyB,IACnCF,CAAO,IAEfI,IAIC,MAHAjB,EAAU,CAAErP,MAAO,GAAIF,MAAO,KAC9B6P,EAAiB,IAEX,IAAIY,MAAMD,EAASE,WAAW,GACtC,GAED,CAAC1B,EAAYI,EAASE,GAAQtP,QAE3Bud,EAAoB/N,IAAAA,aAAkB,KAC1CO,GAA0B,GAC1BC,IACGE,MAAME,IACLP,EAAiBO,EAAQ,IAE1BQ,SAAQ,KACPb,GAA0B,EAAM,GAChC,GACH,CAACC,EAAaH,EAAkBE,IAGnCP,IAAAA,WAAgB,IAAM+N,KAAqB,IAE3C/N,IAAAA,WAAgB,UACQpR,IAAlBkR,GAAQtP,OAAyC,KAAlBsP,GAAQtP,QAIzB,OAAd0P,GAAsBJ,GAAQtP,QAAU0P,EAAUJ,QAAUF,IAAYM,EAAUN,UAItFO,EAAa,CAAEP,UAASE,OAAQA,EAAOtP,MAAM6Q,aAE7C5B,EAAS,SAAKE,GAAAA,CAAOC,UAASvM,OAAQyM,EAAOtP,MAAM6Q,cAEnD3B,KAAY,GACX,CAACE,EAASE,IAEbE,IAAAA,WAAgB,KACd,MAAMgO,EAAoC,GAC1C,IAAK,MAAM5e,KAAOwQ,OAEIhR,IADAgf,EAAc7M,MAAM6D,GAASA,EAAK1T,OAAS9B,KAE7D4e,EAAkB1P,KAAK,CAAEpN,KAAM9B,EAAKoB,MAAOoP,EAAQxQ,KAGrDue,EAAkBK,EACpB,GACC,CAACpO,EAASgO,IAEb,MAAMK,EAAgB,CACpB/c,EACAgd,EACA9Z,KAEA6L,GAAYkO,IACV,IAAIC,EAAqC,MAAKD,G,IAa7BrO,EAkBjB,OA9BI4E,EAAAA,EAAAA,SAAQtQ,GACVga,EAAWld,GAAQkD,EAChByM,KAAK+D,GAASA,EAAKpU,QACnBuU,QAAQH,QAAmBhW,IAATgW,GAAqBA,EAAKvD,WAAWpE,OAAS,IAC1D7I,QAAiBxF,IAAZwF,EAAE5D,OAAmC,KAAZ4D,EAAE5D,MACzC4d,EAAWld,GAAQkD,EAAE5D,aAEd4d,EAAWld,GAEhBgd,IACF3N,GAA0B,GAC1Bf,EACGiB,YAAoBjQ,QAARsP,EAAAA,GAAQtP,aAARsP,IAAAA,EAAAA,EAAiB,GAAI,MAAKsO,IACtC1N,MACEE,IACC,MAAME,GAAcC,EAAAA,EAAAA,MAAKH,GAAUd,GAAWA,EAAOtP,QAAUmP,EAAMtM,S,IAEpDyN,EADjBf,OAA0BnR,IAAhBkS,EAA4B,CAAEpQ,MAAO,GAAIF,MAAO,IAAOsQ,GACjE+M,EAA8BC,QAAbhN,EAAAA,GAAagN,gBAAbhN,IAAAA,EAAAA,EAAyB,IAC1CT,EAAiBO,EAAQ,IAE1BI,IAGC,MAFAjB,EAAU,CAAErP,MAAO,GAAIF,MAAO,KAC9B6P,EAAiB,IACX,IAAIY,MAAMD,EAASE,WAAW,IAGvCE,SAAQ,KACPb,GAA0B,EAAM,KAG/B6N,CAAU,GACjB,EAEJ,OACE,oCACE,kBAACra,EAAgBA,KACf,kBAACc,EAAWA,CAACnE,MAAM,UACjB,kBAAC8Q,EAAAA,OAAMA,CACLC,UAAWnB,EACX3O,QAASyO,EACTuB,YAAY,gBACZC,kBAAAA,EACApR,MAAOsP,EACPqF,WAAY,KACmB,IAA7B4I,EAAkB9Q,QAAgB8Q,GAAmB,EAEvDtO,SAAWrL,IACT,MAAMia,EAAWjO,EAAcW,MAAM6D,GAASA,EAAKpU,QAAU4D,EAAE5D,Q,IAC9C6d,EAAjBR,EAA2BC,QAAVO,EAAAA,GAAUP,gBAAVO,IAAAA,EAAAA,EAAsB,IACvCtO,EAAU3L,EAAE,MAKnBwZ,EAAc3Q,OAAS,GACtB,kBAAClJ,EAAgBA,KACf,kBAACc,EAAWA,CAACnE,MAAM,UAAUgJ,MAAO,CAAEzE,MAAO,SAC3C,kBAAC1D,MAAAA,CAAImI,MAAO,CAAErH,QAAS,OAAQic,SAAU,WAAY9b,IAAK,GAAIyC,MAAO,SAClE2Y,EAAc/M,KAAK0N,IAClB,OAAQA,EAAI5Q,MACV,IAAK,SACL,IAAK,eACH,OACE,kBAAC4D,EAAAA,YAAWA,CAACnS,IAAKmf,EAAIrd,KAAMwI,MAAO,CAAErH,QAAS,gBAC5C,kBAACuR,EAAyBA,GAAAA,GAAAA,CAAAA,EACpBtS,GAAAA,CACJuS,OAAQ0K,EAER/d,MAAOoP,EAAQ2O,EAAIrd,MACnB6S,QAAsB,iBAAbwK,EAAI5Q,KACbmG,gBAAkB1P,IAChB6Z,EAAcM,EAAIrd,KAAMqd,EAAIL,aAAc9Z,EAAE,MAKtD,IAAK,W,IAIqCma,EAHxC,OACE,kBAAChN,EAAAA,YAAWA,CAACnS,IAAKmf,EAAIrd,KAAMwI,MAAO,CAAEzE,MAAO,OAAQ5C,QAAS,WAC3D,kBAACd,MAAAA,CAAImI,MAAO,CAAEzE,MAAO,OAAQ5C,QAAS,SACpC,kBAAC3B,QAAAA,CAAMG,UAAU,iBAA0B,QAAT0d,EAAAA,EAAI7d,aAAJ6d,IAAAA,EAAAA,EAAaA,EAAI7d,OACnD,kBAACyR,EAAoBA,CACnB0B,OAAQ0K,EAER/d,MAAOoP,EAAQ2O,EAAIrd,MACnBmR,cAAgBjO,IACd6Z,EAAcM,EAAIrd,KAAMqd,EAAIL,aAAc,CAAE1d,MAAO4D,GAAI,MAMnE,Q,IAUqBma,EATnB,OACE,kBAAChN,EAAAA,YAAWA,CAACnS,IAAKmf,EAAIrd,KAAMwI,MAAO,CAAErH,QAAS,gBAC5C,kBAACmc,EAAAA,MAAKA,CACJ9M,OAAQ6M,EAAI7d,MACZuE,MAAOsZ,EAAItZ,MACXiN,OAASpS,IACPme,EAAcM,EAAIrd,KAAMqd,EAAIL,aAAc,CAAE1d,MAAOV,EAAE0T,cAAchT,OAAQ,EAE7Eie,aAAc7O,EAAQ2O,EAAIrd,MAC1ByQ,YAA4B,QAAf4M,EAAAA,EAAI5M,mBAAJ4M,IAAAA,EAAAA,EAAmB,MAI1C,OAMTb,EAAezQ,OAAS,GACvB,kBAAClJ,EAAgBA,KACf,kBAACc,EAAWA,CACVnE,MAAM,kBACNqE,QACE,oCAAE,uDACoD,kBAAC2Z,OAAAA,KAAK,mBAAsB,MAIpF,kBAACnd,MAAAA,CAAImI,MAAO,CAAErH,QAAS,OAAQic,SAAU,WAAY9b,IAAK,GAAIyC,MAAO,SAClEyY,EAAe7M,KAAI,CAAC+D,EAAM+J,IAEvB,kBAAC1B,GAAeA,CACd7d,IAAK,GAAGwV,EAAK1T,QAAQyd,IACrBzd,KAAM0T,EAAK1T,KACXV,MAAOoU,EAAKpU,MACZ0c,SAAU,KACRe,EAAcrJ,EAAK1T,MAAM,EAAO,CAAEV,MAAO,IAAK,SAItD,E,qzBChOd,SAASoe,GAAuBhP,GAC9B,IAAIA,EAYF,MAAO,CAAC,EAXR,GAAuB,iBAAZA,EAQT,OAAOA,EAPP,IACE,OAAOuM,KAAK0C,MAAMjP,EACpB,CAAE,MAAOkP,GAEP,OADAC,QAAQC,MAAMF,GACP,CAAC,CACV,CAON,C,wBC7BO,SAASG,GAAWze,GACvB,MAAwB,mBAAVA,CAClB,CCcA,IAAI0e,GAAgB,SAASjgB,EAAG+G,GAI9B,OAHAkZ,GAAgB5f,OAAO6f,gBAClB,CAAElF,UAAW,cAAgBrE,OAAS,SAAU3W,EAAG+G,GAAK/G,EAAEgb,UAAYjU,CAAG,GAC1E,SAAU/G,EAAG+G,GAAK,IAAK,IAAIkR,KAAKlR,EAAO1G,OAAOY,UAAUC,eAAeC,KAAK4F,EAAGkR,KAAIjY,EAAEiY,GAAKlR,EAAEkR,GAAI,EAC7FgI,GAAcjgB,EAAG+G,EAC1B,EAEO,SAASoZ,GAAUngB,EAAG+G,GAC3B,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIqZ,UAAU,uBAAyBC,OAAOtZ,GAAK,iCAE7D,SAASuZ,IAAO3f,KAAKwI,YAAcnJ,CAAG,CADtCigB,GAAcjgB,EAAG+G,GAEjB/G,EAAEiB,UAAkB,OAAN8F,EAAa1G,OAAOkgB,OAAOxZ,IAAMuZ,EAAGrf,UAAY8F,EAAE9F,UAAW,IAAIqf,EACjF,CA2IO,SAASE,GAASpgB,GACvB,IAAIiW,EAAsB,mBAAXhV,QAAyBA,OAAOwW,SAAUJ,EAAIpB,GAAKjW,EAAEiW,GAAItI,EAAI,EAC5E,GAAI0J,EAAG,OAAOA,EAAEtW,KAAKf,GACrB,GAAIA,GAAyB,iBAAbA,EAAE4N,OAAqB,MAAO,CAC1CyS,KAAM,WAEF,OADIrgB,GAAK2N,GAAK3N,EAAE4N,SAAQ5N,OAAI,GACrB,CAAEmB,MAAOnB,GAAKA,EAAE2N,KAAM2S,MAAOtgB,EACxC,GAEJ,MAAM,IAAIggB,UAAU/J,EAAI,0BAA4B,kCACtD,CAEO,SAASsK,GAAOvgB,EAAGP,GACxB,IAAI4X,EAAsB,mBAAXpW,QAAyBjB,EAAEiB,OAAOwW,UACjD,IAAKJ,EAAG,OAAOrX,EACf,IAAmBgB,EAAYP,EAA3BkN,EAAI0J,EAAEtW,KAAKf,GAAOwgB,EAAK,GAC3B,IACI,WAAc,IAAN/gB,GAAgBA,KAAM,MAAQuB,EAAI2M,EAAE0S,QAAQC,MAAME,EAAGvR,KAAKjO,EAAEG,MACxE,CACA,MAAOwe,GAASlf,EAAI,CAAEkf,MAAOA,EAAS,CACtC,QACI,IACQ3e,IAAMA,EAAEsf,OAASjJ,EAAI1J,EAAU,SAAI0J,EAAEtW,KAAK4M,EAClD,CACA,QAAU,GAAIlN,EAAG,MAAMA,EAAEkf,KAAO,CACpC,CACA,OAAOa,CACT,CAkBO,SAASC,GAAcC,EAAIC,EAAMC,GACtC,GAAIA,GAA6B,IAArBC,UAAUjT,OAAc,IAAK,IAA4B4S,EAAxB7S,EAAI,EAAGwJ,EAAIwJ,EAAK/S,OAAYD,EAAIwJ,EAAGxJ,KACxE6S,GAAQ7S,KAAKgT,IACRH,IAAIA,EAAKjK,MAAM1V,UAAU2V,MAAMzV,KAAK4f,EAAM,EAAGhT,IAClD6S,EAAG7S,GAAKgT,EAAKhT,IAGrB,OAAO+S,EAAG1J,OAAOwJ,GAAMjK,MAAM1V,UAAU2V,MAAMzV,KAAK4f,GACpD,CArE6B1gB,OAAOkgB,OA0GXlgB,OAAOkgB,OCjQzB,ICD0BW,GAKzBC,GDJGC,ICDsBF,GDCiB,SAAUG,GACxD,OAAO,SAAiCC,GACpCD,EAAO1gB,MACPA,KAAK4gB,QAAUD,EACTA,EAAOtT,OAAS,4CAA8CsT,EAAO1P,KAAI,SAAUiO,EAAK9R,GAAK,OAAOA,EAAI,EAAI,KAAO8R,EAAIzN,UAAY,IAAGoP,KAAK,QAC3I,GACN7gB,KAAKsB,KAAO,sBACZtB,KAAK2gB,OAASA,CAClB,CACJ,GCLQH,GAAWD,IAJF,SAAUO,GACnBzP,MAAM7Q,KAAKsgB,GACXA,EAASC,OAAQ,IAAI1P,OAAQ0P,KACjC,KAESzgB,UAAYZ,OAAOkgB,OAAOvO,MAAM/Q,WACzCkgB,GAASlgB,UAAUkI,YAAcgY,GAC1BA,ICRJ,SAASQ,GAAUC,EAAKjM,GAC3B,GAAIiM,EAAK,CACL,IAAIlM,EAAQkM,EAAIvd,QAAQsR,GACxB,GAAKD,GAASkM,EAAIpS,OAAOkG,EAAO,EACpC,CACJ,CCDA,IAAImM,GAAgB,WAChB,SAASA,EAAaC,GAClBnhB,KAAKmhB,gBAAkBA,EACvBnhB,KAAKohB,QAAS,EACdphB,KAAKqhB,WAAa,KAClBrhB,KAAKshB,YAAc,IACvB,CA+GqB,IACbC,EAIR,OAnHAL,EAAa5gB,UAAUkhB,YAAc,WACjC,IAAIC,EAAKpe,EAAIqe,EAAKpe,EACdqd,EACJ,IAAK3gB,KAAKohB,OAAQ,CACdphB,KAAKohB,QAAS,EACd,IAAIC,EAAarhB,KAAKqhB,WACtB,GAAIA,EAEA,GADArhB,KAAKqhB,WAAa,KACdrL,MAAMlB,QAAQuM,GACd,IACI,IAAK,IAAIM,EAAe9B,GAASwB,GAAaO,EAAiBD,EAAa7B,QAAS8B,EAAe7B,KAAM6B,EAAiBD,EAAa7B,OACrH8B,EAAehhB,MACrBihB,OAAO7hB,KAExB,CACA,MAAO8hB,GAASL,EAAM,CAAErC,MAAO0C,EAAS,CACxC,QACI,IACQF,IAAmBA,EAAe7B,OAAS1c,EAAKse,EAAaI,SAAS1e,EAAG7C,KAAKmhB,EACtF,CACA,QAAU,GAAIF,EAAK,MAAMA,EAAIrC,KAAO,CACxC,MAGAiC,EAAWQ,OAAO7hB,MAG1B,IAAIgiB,EAAmBhiB,KAAKmhB,gBAC5B,GAAI9B,GAAW2C,GACX,IACIA,GACJ,CACA,MAAO9hB,GACHygB,EAASzgB,aAAaugB,GAAsBvgB,EAAEygB,OAAS,CAACzgB,EAC5D,CAEJ,IAAIohB,EAActhB,KAAKshB,YACvB,GAAIA,EAAa,CACbthB,KAAKshB,YAAc,KACnB,IACI,IAAK,IAAIW,EAAgBpC,GAASyB,GAAcY,EAAkBD,EAAcnC,QAASoC,EAAgBnC,KAAMmC,EAAkBD,EAAcnC,OAAQ,CACnJ,IAAIqC,EAAYD,EAAgBthB,MAChC,IACIwhB,GAAcD,EAClB,CACA,MAAOjD,GACHyB,EAASA,QAAuCA,EAAS,GACrDzB,aAAeuB,GACfE,EAAST,GAAcA,GAAc,GAAIF,GAAOW,IAAUX,GAAOd,EAAIyB,SAGrEA,EAAOjS,KAAKwQ,EAEpB,CACJ,CACJ,CACA,MAAOmD,GAASX,EAAM,CAAEtC,MAAOiD,EAAS,CACxC,QACI,IACQH,IAAoBA,EAAgBnC,OAASzc,EAAK2e,EAAcF,SAASze,EAAG9C,KAAKyhB,EACzF,CACA,QAAU,GAAIP,EAAK,MAAMA,EAAItC,KAAO,CACxC,CACJ,CACA,GAAIuB,EACA,MAAM,IAAIF,GAAoBE,EAEtC,CACJ,EACAO,EAAa5gB,UAAUgiB,IAAM,SAAUC,GACnC,IAAIlf,EACJ,GAAIkf,GAAYA,IAAaviB,KACzB,GAAIA,KAAKohB,OACLgB,GAAcG,OAEb,CACD,GAAIA,aAAoBrB,EAAc,CAClC,GAAIqB,EAASnB,QAAUmB,EAASC,WAAWxiB,MACvC,OAEJuiB,EAASE,WAAWziB,KACxB,EACCA,KAAKshB,YAA0C,QAA3Bje,EAAKrD,KAAKshB,mBAAgC,IAAPje,EAAgBA,EAAK,IAAIqL,KAAK6T,EAC1F,CAER,EACArB,EAAa5gB,UAAUkiB,WAAa,SAAUE,GAC1C,IAAIrB,EAAarhB,KAAKqhB,WACtB,OAAOA,IAAeqB,GAAW1M,MAAMlB,QAAQuM,IAAeA,EAAWjM,SAASsN,EACtF,EACAxB,EAAa5gB,UAAUmiB,WAAa,SAAUC,GAC1C,IAAIrB,EAAarhB,KAAKqhB,WACtBrhB,KAAKqhB,WAAarL,MAAMlB,QAAQuM,IAAeA,EAAW3S,KAAKgU,GAASrB,GAAcA,EAAa,CAACA,EAAYqB,GAAUA,CAC9H,EACAxB,EAAa5gB,UAAUqiB,cAAgB,SAAUD,GAC7C,IAAIrB,EAAarhB,KAAKqhB,WAClBA,IAAeqB,EACf1iB,KAAKqhB,WAAa,KAEbrL,MAAMlB,QAAQuM,IACnBL,GAAUK,EAAYqB,EAE9B,EACAxB,EAAa5gB,UAAUuhB,OAAS,SAAUU,GACtC,IAAIjB,EAActhB,KAAKshB,YACvBA,GAAeN,GAAUM,EAAaiB,GAClCA,aAAoBrB,GACpBqB,EAASI,cAAc3iB,KAE/B,EACAkhB,EAAa0B,QACLrB,EAAQ,IAAIL,GACVE,QAAS,EACRG,GAEJL,CACX,CA3HmB,GAkInB,SAASkB,GAAcD,GACf9C,GAAW8C,GACXA,IAGAA,EAAUX,aAElB,CAZgCN,GAAa0B,MCjItC,IAAI,GAAS,CAChBC,iBAAkB,KAClBC,sBAAuB,KACvBC,aAAS/jB,EACTgkB,uCAAuC,EACvCC,0BAA0B,GCJnBC,GAAkB,CACzBxb,WAAY,SAAUyb,EAASC,GAE3B,IADA,IAAI3a,EAAO,GACF4a,EAAK,EAAGA,EAAK/C,UAAUjT,OAAQgW,IACpC5a,EAAK4a,EAAK,GAAK/C,UAAU+C,GAE7B,IAAIC,EAAWJ,GAAgBI,SAC/B,OAAIA,aAA2C,EAASA,EAAS5b,YACtD4b,EAAS5b,WAAW6b,MAAMD,EAAUpD,GAAc,CAACiD,EAASC,GAAUpD,GAAOvX,KAEjFf,WAAW6b,WAAM,EAAQrD,GAAc,CAACiD,EAASC,GAAUpD,GAAOvX,IAC7E,EACAjB,aAAc,SAAUgc,GACpB,IAAIF,EAAWJ,GAAgBI,SAC/B,QAASA,aAA2C,EAASA,EAAS9b,eAAiBA,cAAcgc,EACzG,EACAF,cAAUtkB,GCjBP,SAASykB,KAAS,CCAlB,IAAIC,GAA8CC,GAAmB,SAAK3kB,OAAWA,GAOrF,SAAS2kB,GAAmBC,EAAMhjB,EAAOwe,GAC5C,MAAO,CACHwE,KAAMA,EACNhjB,MAAOA,EACPwe,MAAOA,EAEf,CCZA,ICQIyE,GAAc,SAAUnD,GAExB,SAASmD,EAAWC,GAChB,INsHuBljB,EMtHnBmjB,EAAQrD,EAAOlgB,KAAKR,OAASA,KAWjC,OAVA+jB,EAAMC,WAAY,EACdF,GACAC,EAAMD,YAAcA,INmHDljB,EMlHAkjB,aNmHF5C,IACpBtgB,GAAS,WAAYA,GAASye,GAAWze,EAAMihB,SAAWxC,GAAWze,EAAM0hB,MAAQjD,GAAWze,EAAM4gB,eMnH7FsC,EAAYxB,IAAIyB,IAIpBA,EAAMD,YAAcG,GAEjBF,CACX,CAwDA,OAtEAvE,GAAUqE,EAAYnD,GAetBmD,EAAWjE,OAAS,SAAUE,EAAMV,EAAO8E,GACvC,OAAO,IAAIC,GAAerE,EAAMV,EAAO8E,EAC3C,EACAL,EAAWvjB,UAAUwf,KAAO,SAAUlf,GAC9BZ,KAAKgkB,UACLI,GF1BL,SAA0BxjB,GAC7B,OAAO+iB,GAAmB,IAAK/iB,OAAO5B,EAC1C,CEwBsCqlB,CAAiBzjB,GAAQZ,MAGnDA,KAAKskB,MAAM1jB,EAEnB,EACAijB,EAAWvjB,UAAU8e,MAAQ,SAAUF,GAC/Blf,KAAKgkB,UACLI,GFpCDT,GAAmB,SAAK3kB,EEoCqBkgB,GAAMlf,OAGlDA,KAAKgkB,WAAY,EACjBhkB,KAAKukB,OAAOrF,GAEpB,EACA2E,EAAWvjB,UAAU4jB,SAAW,WACxBlkB,KAAKgkB,UACLI,GAA0BV,GAAuB1jB,OAGjDA,KAAKgkB,WAAY,EACjBhkB,KAAKwkB,YAEb,EACAX,EAAWvjB,UAAUkhB,YAAc,WAC1BxhB,KAAKohB,SACNphB,KAAKgkB,WAAY,EACjBtD,EAAOpgB,UAAUkhB,YAAYhhB,KAAKR,MAClCA,KAAK8jB,YAAc,KAE3B,EACAD,EAAWvjB,UAAUgkB,MAAQ,SAAU1jB,GACnCZ,KAAK8jB,YAAYhE,KAAKlf,EAC1B,EACAijB,EAAWvjB,UAAUikB,OAAS,SAAUrF,GACpC,IACIlf,KAAK8jB,YAAY1E,MAAMF,EAC3B,CACA,QACIlf,KAAKwhB,aACT,CACJ,EACAqC,EAAWvjB,UAAUkkB,UAAY,WAC7B,IACIxkB,KAAK8jB,YAAYI,UACrB,CACA,QACIlkB,KAAKwhB,aACT,CACJ,EACOqC,CACX,CAxEiB,CAwEf3C,IAEEuD,GAAQxkB,SAASK,UAAUokB,KAC/B,SAASA,GAAK/X,EAAIgY,GACd,OAAOF,GAAMjkB,KAAKmM,EAAIgY,EAC1B,CACA,IAAIC,GAAoB,WACpB,SAASA,EAAiBC,GACtB7kB,KAAK6kB,gBAAkBA,CAC3B,CAqCA,OApCAD,EAAiBtkB,UAAUwf,KAAO,SAAUlf,GACxC,IAAIikB,EAAkB7kB,KAAK6kB,gBAC3B,GAAIA,EAAgB/E,KAChB,IACI+E,EAAgB/E,KAAKlf,EACzB,CACA,MAAOwe,GACH0F,GAAqB1F,EACzB,CAER,EACAwF,EAAiBtkB,UAAU8e,MAAQ,SAAUF,GACzC,IAAI2F,EAAkB7kB,KAAK6kB,gBAC3B,GAAIA,EAAgBzF,MAChB,IACIyF,EAAgBzF,MAAMF,EAC1B,CACA,MAAOE,GACH0F,GAAqB1F,EACzB,MAGA0F,GAAqB5F,EAE7B,EACA0F,EAAiBtkB,UAAU4jB,SAAW,WAClC,IAAIW,EAAkB7kB,KAAK6kB,gBAC3B,GAAIA,EAAgBX,SAChB,IACIW,EAAgBX,UACpB,CACA,MAAO9E,GACH0F,GAAqB1F,EACzB,CAER,EACOwF,CACX,CAzCuB,GA0CnBT,GAAkB,SAAUzD,GAE5B,SAASyD,EAAeY,EAAgB3F,EAAO8E,GAC3C,IACIW,EASIG,EAVJjB,EAAQrD,EAAOlgB,KAAKR,OAASA,KAyBjC,OAvBIqf,GAAW0F,KAAoBA,EAC/BF,EAAkB,CACd/E,KAAOiF,QAAuDA,OAAiB/lB,EAC/EogB,MAAOA,QAAqCA,OAAQpgB,EACpDklB,SAAUA,QAA2CA,OAAWllB,GAKhE+kB,GAAS,GAAOd,2BAChB+B,EAAYtlB,OAAOkgB,OAAOmF,IAChBvD,YAAc,WAAc,OAAOuC,EAAMvC,aAAe,EAClEqD,EAAkB,CACd/E,KAAMiF,EAAejF,MAAQ4E,GAAKK,EAAejF,KAAMkF,GACvD5F,MAAO2F,EAAe3F,OAASsF,GAAKK,EAAe3F,MAAO4F,GAC1Dd,SAAUa,EAAeb,UAAYQ,GAAKK,EAAeb,SAAUc,KAIvEH,EAAkBE,EAG1BhB,EAAMD,YAAc,IAAIc,GAAiBC,GAClCd,CACX,CACA,OA7BAvE,GAAU2E,EAAgBzD,GA6BnByD,CACX,CA/BqB,CA+BnBN,IAEF,SAASiB,GAAqB1F,GACtB,GAAO4D,uCACM5D,ED9Ib,GAAO4D,uCEpBR,SAA8B9D,GACjCgE,GAAgBxb,YAAW,WACvB,IAAImb,EAAmB,GAAOA,iBAC9B,IAAIA,EAIA,MAAM3D,EAHN2D,EAAiB3D,EAKzB,GACJ,CD2JQ+F,CAAqB7F,EAE7B,CAIA,SAASgF,GAA0Bc,EAAcC,GAC7C,IAAIrC,EAAwB,GAAOA,sBACnCA,GAAyBI,GAAgBxb,YAAW,WAAc,OAAOob,EAAsBoC,EAAcC,EAAa,GAC9H,CACO,IAAIlB,GAAiB,CACxB7C,QAAQ,EACRtB,KAAM2D,GACNrE,MAVJ,SAA6BF,GACzB,MAAMA,CACV,EASIgF,SAAUT,IEhLV2B,GAAsB,SAAU1E,GAEhC,SAAS0E,EAAmBtB,EAAauB,EAAQC,EAAYC,EAASC,EAAYC,GAC9E,IAAI1B,EAAQrD,EAAOlgB,KAAKR,KAAM8jB,IAAgB9jB,KAuC9C,OAtCA+jB,EAAMyB,WAAaA,EACnBzB,EAAM0B,kBAAoBA,EAC1B1B,EAAMO,MAAQe,EACR,SAAUzkB,GACR,IACIykB,EAAOzkB,EACX,CACA,MAAOse,GACH4E,EAAY1E,MAAMF,EACtB,CACJ,EACEwB,EAAOpgB,UAAUgkB,MACvBP,EAAMQ,OAASgB,EACT,SAAUrG,GACR,IACIqG,EAAQrG,EACZ,CACA,MAAOA,GACH4E,EAAY1E,MAAMF,EACtB,CACA,QACIlf,KAAKwhB,aACT,CACJ,EACEd,EAAOpgB,UAAUikB,OACvBR,EAAMS,UAAYc,EACZ,WACE,IACIA,GACJ,CACA,MAAOpG,GACH4E,EAAY1E,MAAMF,EACtB,CACA,QACIlf,KAAKwhB,aACT,CACJ,EACEd,EAAOpgB,UAAUkkB,UAChBT,CACX,CASA,OAnDAvE,GAAU4F,EAAoB1E,GA2C9B0E,EAAmB9kB,UAAUkhB,YAAc,WACvC,IAAIne,EACJ,IAAKrD,KAAKylB,mBAAqBzlB,KAAKylB,oBAAqB,CACrD,IAAIC,EAAW1lB,KAAKohB,OACpBV,EAAOpgB,UAAUkhB,YAAYhhB,KAAKR,OACjC0lB,IAAwC,QAA1BriB,EAAKrD,KAAKwlB,kBAA+B,IAAPniB,GAAyBA,EAAG7C,KAAKR,MACtF,CACJ,EACOolB,CACX,CArDyB,CAqDvBvB,ICxDK,SAAS5S,GAAI0U,EAAShB,GACzB,OCCoBiB,EDDL,SAAUriB,EAAQ4hB,GAC7B,IAAIpQ,EAAQ,EACZxR,EAAOsiB,UDFJ,IAAIT,GCEmCD,GAAY,SAAUvkB,GAC5DukB,EAAWrF,KAAK6F,EAAQnlB,KAAKmkB,EAAS/jB,EAAOmU,KACjD,QDLsDuQ,OAAYC,OAASC,GCM/E,ECHO,SAAUjiB,GACb,GALD,SAAiBA,GACpB,OAAO8b,GAAW9b,aAAuC,EAASA,EAAOuiB,KAC7E,CAGYC,CAAQxiB,GACR,OAAOA,EAAOuiB,MAAK,SAAUE,GACzB,IACI,OAAOJ,EAAKI,EAAchmB,KAC9B,CACA,MAAOkf,GACHlf,KAAKof,MAAMF,EACf,CACJ,IAEJ,MAAM,IAAIO,UAAU,yCACxB,EAbG,IAAiBmG,CDKxB,CELO,MAAMK,GACXC,4BAA4BC,GAC1B,MAAMC,GAAQC,EAAAA,EAAAA,aAAYF,EAAIG,MAExB/P,EAA4B,GAC5BgQ,EAAYH,EAAMI,OAAOrV,MAAMgG,GAAiB,WAAXA,EAAE7V,OACvCmlB,EAAaL,EAAMI,OAAOrV,MAAMgG,GAAiB,YAAXA,EAAE7V,OAE9C,GAAIilB,GAAaE,EACf,IAAK,IAAIrZ,EAAI,EAAGA,EAAImZ,EAAUhQ,OAAOlJ,OAAQD,IAC3CmJ,EAAO7H,KAAK,CAAE5H,KAAM,GAAKyf,EAAUhQ,OAAO1W,IAAIuN,GAAIxM,MAAO,GAAK6lB,EAAWlQ,OAAO1W,IAAIuN,UAGtFmJ,EAAO7H,QACF0X,EAAMI,OACNE,SAASvP,GAAMA,EAAEZ,OAAOoQ,YACxB1V,KAAKzM,IAAO,CACXsC,KAAMtC,OAKd,OAAOwR,MAAMoK,KAAK,IAAI3F,IAAIlE,EAAOtF,KAAKzM,GAAMA,EAAEsC,SAAQmK,KAAKnK,I,IAElDyP,E,MAF4D,CACnEzP,OACAlG,MAAqCkG,QAA9ByP,EAAAA,EAAOpF,MAAM3M,GAAMA,EAAEsC,OAASA,WAA9ByP,IAAAA,OAAAA,EAAAA,EAAqC3V,MAC7C,GACH,E,+6BCMK,MAAMgmB,WAAmBC,EAAAA,cAoB9B9W,MAAMhO,GACJ,MAAM+kB,EAAU9mB,KAAK+mB,eAAehlB,GAEpC,OAA+B,IAA3B+kB,EAAQE,QAAQ3Z,OACX0V,QAAQkE,QAAQ,CAAEX,KAAM,MAIjCQ,EAAQI,cAAeC,EAAAA,GAAAA,kBAAiBC,gBAAgBpnB,KAAKsB,MAE7DS,EAAQslB,WAAa,MAAKrnB,KAAK6U,eAAmB9S,EAAQslB,aAEnDC,EAAAA,GAAAA,eACLtnB,KAAKunB,QAAe,CAClBC,IAAK,GAAGxnB,KAAKwnB,YACblB,KAAMQ,EACNW,OAAQ,SACPC,KACDzW,IAAKG,IACHA,EAASkV,KAAOlV,EAASkV,KAAKrV,IAAIoV,EAAAA,aAE3BjV,OAIf,CAIMuW,iB,sBAAN,YACE,MAAMC,EAAmB,6BAEzB,IACE,MAAMxW,QAAiBkW,EAAAA,GAAAA,eACrB,EAAKC,QAAQ,CACXC,IAAK,EAAKA,IACVC,OAAQ,QACPC,KAAKzW,IAAKG,GAAaA,MAG5B,OAAwB,MAApBA,EAASyW,OACJ,CAAEA,OAAQ,UAAWjH,QAAS,yBAA0BkH,MAAO,WAGjE,CACLlH,QAASxP,EAASE,WAAaF,EAASE,WAAasW,EACrDC,OAAQ,QACRC,MAAO,QAEX,CAAE,MAAO5I,G,IAUHE,EAAAA,EATJ,GAAmB,iBAARF,EACT,MAAO,CACL2I,OAAQ,QACRjH,QAAS1B,GAIb,IAAIE,EAAQF,E,IACEE,EAAd,IAAIwB,EAA0B,QAAhBxB,EAAAA,EAAM9N,kBAAN8N,IAAAA,EAAAA,EAAoBwI,EAKlC,YAJgC5oB,KAAlB,QAAVogB,EAAAA,EAAMkH,YAANlH,IAAAA,GAAiB,QAAjBA,EAAAA,EAAYA,aAAZA,IAAAA,OAAAA,EAAAA,EAAmBN,QACrB8B,GAAW,KAAKxB,EAAMkH,KAAKlH,MAAMN,SAASM,EAAMkH,KAAKlH,MAAMwB,WAGtD,CAAEiH,OAAQ,QAASjH,UAASkH,MAAO,QAC5C,CACF,E,mLAEAC,gBAAgBC,EAA8BjmB,EAAegM,G,IAWlDhM,EACGA,EAXZ,MAQMkmB,EAAoB,CACxBjY,QARyB,SAAzBgY,EAAcE,OACV3L,KAAK0C,OAAMkI,EAAAA,GAAAA,kBAAiB7T,QAAQ0U,EAAcjY,WAAO/Q,EAAW,SACpE,CACE+O,OACAtK,QAAQ0jB,EAAAA,GAAAA,kBAAiB7T,QAAQ0U,EAAcjY,WAAO/Q,EAAW,UAKvEmpB,MAAOpmB,QAAAA,EAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAASomB,MAChBC,SAAUrmB,QAAAA,EAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAASqmB,UAGrB,OAAOd,EAAAA,GAAAA,eACLtnB,KAAKunB,QAAmC,CACtCC,IAAK,GAAGxnB,KAAKwnB,eACblB,KAAM2B,EACNR,OAAQ,SACPC,KAAKzW,IAAKG,GAAapR,KAAKqoB,eAAenC,4BAA4B9U,MAE9E,CAEAuD,yBACErT,EACA4O,EACAF,GAEA,OAAOsX,EAAAA,GAAAA,eACLtnB,KAAKunB,QAAQ,CACXC,IAAK,GAAGxnB,KAAKwnB,6BACblB,KAAM,CACJpW,SACAF,QAAShQ,KAAKsoB,eAAetY,EAAS,eAAWhR,GACjDsC,QAEFmmB,OAAQ,SACPC,KACDzW,IAAKG,IACH0D,EAAAA,EAAAA,SAAQ1D,EAASkV,MACblV,EAASkV,KAAKrV,KAAK+D,GAAU,SAAKA,GAAAA,CAAMlU,MAAOkU,EAAKlU,MAAQkU,EAAKlU,MAAQkU,EAAKpU,UAC9E,MAIZ,CAEAiQ,YAAYpN,EAAyBuM,GACnC,OAAOsX,EAAAA,GAAAA,eACLtnB,KAAKunB,QAAQ,CACXC,IAAK,GAAGxnB,KAAKwnB,cACblB,KAAM,CACJpW,OAAQzM,EAAOgO,YAAa0V,EAAAA,GAAAA,kBAAiB7T,QAAQ7P,EAAOgO,gBAAYzS,EAAW,cAAWA,EAC9FgR,QAASA,EAAUhQ,KAAKsoB,eAAetY,EAAS,eAAWhR,QAAaA,GAE1EyoB,OAAQ,SACPC,KACDzW,IAAKG,IACE0D,EAAAA,EAAAA,SAAQ1D,EAASkV,MAIflV,EAASkV,KAAKrV,KAAK+D,IACxB,MAAoB,iBAATA,EACF,CAAEpU,MAAOoU,EAAMlU,MAAOkU,EAAMkJ,SAAU,IAGxC,SACFlJ,GAAAA,CACHkJ,UAAUpJ,EAAAA,EAAAA,SAAQE,EAAKkJ,UACnBlJ,EAAKkJ,SAASjN,KAAKjB,GAAkC,SAChDA,GAAAA,CACHlP,MAAOkP,EAAQlP,MAAQkP,EAAQlP,MAAQkP,EAAQ1O,SAEjD,GACJR,MAAiB,QAAVkU,EAAAA,EAAKlU,aAALkU,IAAAA,EAAAA,EAAcA,EAAKpU,Q,IAAnBoU,C,IAhBF,MAsBjB,CAEAuT,WAAWxmB,GACT,OAAOulB,EAAAA,GAAAA,eACLtnB,KAAKunB,QAA6B,CAChCC,IAAK,GAAGxnB,KAAKwnB,eACbC,OAAQ,OACRnB,KAAMvkB,IACL2lB,KAAKzW,IAAKF,GAAWA,EAAOuV,QAEnC,CAEAkC,aAAazmB,GACX,OAAOulB,EAAAA,GAAAA,eACLtnB,KAAKunB,QAA+B,CAClCC,IAAK,GAAGxnB,KAAKwnB,iBACbC,OAAQ,OACRnB,KAAMvkB,IACL2lB,KAAKzW,IAAKF,GAAWA,EAAOuV,QAEnC,CAEAmC,eAAe1X,GACb,OAAOA,EAAOuV,KAAKrV,KAAI,CAAC5R,EAAQ+N,IAC1B/N,GAAKA,EAAEyH,MAAQzH,EAAEuB,MACZ,CAAEkG,KAAMzH,EAAEyH,KAAMlG,MAAOvB,EAAEuB,QAG9B8nB,EAAAA,EAAAA,UAASrpB,GACJ,CAAEyH,KAAMzH,EAAGuB,MAAOwM,GAEpB,CAAEtG,KAAMzH,EAAGuB,MAAOvB,IAE7B,CAEAkoB,QAAWxlB,GAIT,OAHAA,EAAQ4mB,YAAc3oB,KAAK4oB,gBAAkB,UAAY,cACzD7mB,EAAQ8mB,QAAU7oB,KAAK6oB,SAEhBC,EAAAA,GAAAA,iBAAgBC,MAAShnB,EAClC,CAEAumB,eAAetY,EAA8CgZ,EAA8B3B,GACzF,IACE,GAAuB,iBAAZrX,GAAuC,YAAfgZ,EACjC,MAAuB,KAAnBhZ,EAAQiZ,OACH1M,KAAK0C,MACVjP,EAAQsD,SAAQ,uBAA0ByE,OAAQjC,GAAU9V,KAAKkpB,WAAWpT,EAAO,CAAEuR,kBAGlF,CAAC,EACH,CACL,MAAM7I,EACe,iBAAZxO,EAAwBuM,KAAK0C,MAAMjP,GAA0C,MAAKA,GAC3F,IAAK,MAAMxQ,KAAOgf,EAChB,GAAI9e,OAAOY,UAAUC,eAAeC,KAAKge,EAAYhf,GAAM,CACzD,MAAMoB,EAAQ4d,EAAWhf,IACrBsV,EAAAA,EAAAA,SAAQlU,GACV4d,EAAWhf,GAAOoB,EAAMqQ,KAAK+D,IAASmS,EAAAA,GAAAA,kBAAiB7T,QAAQ0B,EAAKvD,WAAY4V,EAAY,WAE5F7I,EAAWhf,IAAO2nB,EAAAA,GAAAA,kBAAiB7T,QAAQkL,EAAWhf,GAAKiS,WAAY4V,EAAY,QAEvF,CAEF,OAAO7I,CACT,CACF,CAAE,MAAOY,GACP,MAAO,CAAC,CACV,CACF,CAEA+J,cAAcnP,EAAiBqN,GAC7B,MAAMtX,EAAQ,MAAKiK,G,IACiBjK,EAIpC,OAJAA,EAAMC,QAAUhQ,KAAKsoB,eAA4B,QAAbvY,EAAAA,EAAMC,eAAND,IAAAA,EAAAA,EAAiB,GAAIA,EAAMiZ,WAAY3B,GAC/C,iBAAjBtX,EAAMtM,SACfsM,EAAMtM,QAAS0jB,EAAAA,GAAAA,kBAAiB7T,QAAQvD,EAAMtM,OAAOgO,WAAY4V,EAAY,UAExEtX,CACT,CAEAgX,eAAehlB,GAUb,OATAA,EAAQilB,QAAUjlB,EAAQilB,QACvB7R,QAAQ1R,QAEkBzE,IAAlByE,EAAOA,SAEfwN,KAAKlB,GACG/P,KAAKmpB,cAAcpZ,EAAOhO,EAAQslB,cAGtCtlB,CACT,CAEAmnB,WAAWpT,EAAe/T,GACxB,MAAMqnB,GAAgBjC,EAAAA,GAAAA,kBAAiB7T,QAAQwC,EAAO/T,EAAQslB,WAAY,QAC1E,MAAyB,MAArB+B,EAAc,IAA0D,MAA5CA,EAAcA,EAAc/b,OAAS,GAC5DkP,KAAK0C,MAAMmK,GAEbA,CACT,CAEAvU,eACE,MAAMwU,EAA0E,CAAC,EA4BjF,OA1BA3pB,OAAO6W,QAAO4Q,EAAAA,GAAAA,kBAAiBtS,gBAAgBnI,SAAS4c,IACtD,GAAsB,UAAlBA,EAASvb,KAEX,OAGF,GAAsB,WAAlBub,EAASvb,KACX,OAGF,MAAMnN,EAAQkV,GAAMwT,GACjBnN,KAAK,CAAEpO,KAAM0K,GAAEmC,MAAM,SAAU,WAAapW,GC7TJ,CAAC8kB,IAChD,IAAIC,EAAgBD,EAAS7V,QAAQ7S,MAiBrC,OAhBsB,WAAlB2oB,IAA8BC,EAAAA,EAAAA,SAAQD,EAAe,CAAC,cAEtDA,EADwB,OAAtBD,EAASG,UAA2C,KAAtBH,EAASG,eAAyCzqB,IAAtBsqB,EAASG,SACrDH,EAASvnB,QAAQkU,MAAM,GAAGhF,KAAKyY,IAC7C,GAAoC,iBAAzBA,EAAe9oB,MAAoB,CAC5C,MAAMwe,EAAQ,IAAI/N,MAAM,yCAGxB,MAFA8N,QAAQC,MAAMA,EAAMwB,QAAS8I,EAAgBJ,GAEvClK,CACR,CACA,OAAOsK,EAAe9oB,KAAK,IAGb0oB,EAASG,UAItBF,CAAa,ED2SqCI,CAAkCnlB,KACpF2X,KAAK,CAAEpO,KAAM0K,GAAEmC,MAAM,WAAY,aAAc,WAAY,aAAepW,GAAMA,EAAEiP,QAAQ7S,QAC1Fyb,kBAEWrd,IAAV4B,IAIJyoB,EAAgBC,EAASxb,IAAM,CAC7B8b,UAAU,EACV9iB,KAAMwiB,EAAS7V,QAAQ3M,KACvBlG,MAAOA,GACR,IAGIyoB,CACT,CAtSA7gB,YAAYqhB,G,IAIeA,EAAAA,EAHzBnhB,MAAMmhB,GANRrC,GAAAA,KAAAA,WAAAA,GACAoB,GAAAA,KAAAA,uBAAAA,GACAC,GAAAA,KAAAA,eAAAA,GACAR,GAAAA,KAAAA,sBAAAA,GACAyB,GAAAA,KAAAA,yBAAAA,GA0CAC,GAAAA,KAAAA,cAAc,CAAC,GAtCb/pB,KAAKqoB,eAAiB,IAAIpC,GAC1BjmB,KAAK8pB,kBAAgE,QAA5CD,EAAyB,QAAzBA,EAAAA,EAAiBG,gBAAjBH,IAAAA,OAAAA,EAAAA,EAA2BC,yBAA3BD,IAAAA,EAAAA,EAAgD,OACzE7pB,KAAKwnB,SAA+BxoB,IAAzB6qB,EAAiBrC,IAAoB,GAAKqC,EAAiBrC,IAEtExnB,KAAK4oB,qBAAuD5pB,IAArC6qB,EAAiBjB,gBACxC5oB,KAAK6oB,QAAU,CAAE,eAAgB,oBACS,iBAA/BgB,EAAiBI,WAA0BJ,EAAiBI,UAAU5c,OAAS,IACxFrN,KAAK6oB,QAAuB,cAAIgB,EAAiBI,UAErD,E,qzBE5CK,MCHMC,GAAS,IAAIC,EAAAA,iBAA2DvD,IAClFwD,iBnCE+C,EAAGroB,UAASsoB,qBAC5D,oCACE,kBAACC,EAAAA,uBAAsBA,CACrBC,WAAY,wBACZC,iBAAkBzoB,EAClB0oB,mBAAmB,EACnB5a,SAAUwa,IAEZ,kBAACK,KAAAA,CAAGzpB,UAAU,gBAAe,SAC7B,kBAACU,MAAAA,CAAIV,UAAU,iBACb,kBAACU,MAAAA,CAAIV,UAAU,kBACb,kBAACU,MAAAA,CAAIV,UAAU,WACb,kBAACe,EAAAA,CACClB,MAAM,oBACN6pB,WAAY,GACZC,QACE,kBAACppB,EAAqBA,CACpBM,KAAK,KACLL,KAAwC,QAAlCM,EAAAA,EAAQioB,SAASF,yBAAjB/nB,IAAAA,EAAAA,EAAsC,OAC5C8N,SAAWrL,IACT6lB,EAAgB,OACXtoB,GAAAA,CACHioB,SAAU,OACLjoB,EAAQioB,UAAQ,CACnBF,kBAAmBtlB,M,YmCzBtCqmB,gBrBgCwDnpB,IACzD,MAAM,SAAEmO,EAAQ,MAAEE,EAAK,WAAEH,GAAelO,GAClC,kBAAEooB,GAAsBla,EACxBoZ,EAAajZ,EAAMiZ,YAElB8B,EAAcC,GAAmB3a,IAAAA,UAAwB,GAChEA,IAAAA,WAAgB,K,IAGAL,EAFdF,EAAS,SACJE,GAAAA,CACHiZ,WAA4B,QAAhBjZ,EAAAA,EAAMiZ,kBAANjZ,IAAAA,EAAAA,EAAoB+Z,I,GAEjC,IAEH,MAAMkB,GAAqBpnB,EAAAA,EAAAA,cACxBqnB,IACCpb,EAAS,SACJE,GAAAA,CACHiZ,WAAYiC,I,GAGhB,CAACpb,EAAUE,IAGb,OACE,oCACE,kBAAC7N,EAAYA,KACX,kBAACyP,EAAAA,YAAWA,CAAC7Q,MAAM,QACjB,kBAACU,EAAqBA,CAACM,KAAK,KAAKL,KAAMunB,EAAYnZ,SAAUmb,KAE/D,kBAACrZ,EAAAA,YAAWA,CAAC7Q,MAAM,aACjB,kBAACoqB,EAAAA,aAAYA,CACXC,MAAM,KACNrqB,MAAM,YACNF,MAAOkqB,EACPjb,SAAWrL,GAAMumB,EAAgBvmB,EAAEoP,cAAcwX,aAIvD,kBAAClnB,EAAUA,KAC8B,UAArC8kB,QAAAA,EAAcc,IACd,kBAACna,EAAWA,GAAAA,GAAAA,CAAAA,EAAKjO,GAAAA,CAAOsO,SAlDFA,EAkDkCD,EAAMC,QAjD/C,iBAAZA,EACFA,EACEA,EACFuM,KAAKC,UAAUxM,OAAShR,EAAW,GAEnC,OA8CoC,aAArCgqB,QAAAA,EAAcc,IACd,kBAACjM,GAAYA,GAAAA,GAAAA,CAAAA,EAAKnc,GAAAA,CAAOsO,QAASgP,GAAuBjP,EAAMC,aAGlE8a,GACC,kBAAC3mB,EAAgBA,KACf,kBAACc,EAAWA,CAACnE,MAAM,YAAYuE,MAAO,OAAQyE,MAAO,CAAEzE,MAAO,SAC5D,kBAACiD,EAASA,CAACiB,eAAAA,IACR,EAAGlE,WAEA,kBAAC1D,MAAAA,CAAImI,MAAO,CAAEzE,MAAOA,EAAQ,OAC3B,kBAAC6M,EAAAA,WAAUA,CACT7M,MAAM,OACNuD,OAAO,QACPyiB,UAAU,EACVzqB,MAAO2b,KAAKC,UAAU5M,EAAWuZ,cAAcpZ,QAAQ/Q,EAAW,GAClEsT,OAAQ,OACRH,SAAS,eArEA,IAACnC,CAyElB,IqB9FXsb,wBDAiD,EAAGzb,WAAUE,YAC/D,MAAOiY,EAAeuD,IAAoBC,EAAAA,EAAAA,UAASzb,GAC7C0b,EAAY,KAChB5b,EAASmY,EAAe,GAAGA,EAAcjY,SAAsC,SAAzBiY,EAAcE,OAAoB,UAAY,IAAK,EAmC3G,OACE,oCACE,kBAACxW,EAAAA,eAAcA,KACb,kBAACC,EAAAA,YAAWA,CAAC7Q,MAAM,QAAQ4qB,QAxBV,CAAC1D,IACtB,GAA6B,SAAzBA,EAAcE,OAAmB,CACnC,MAAMyD,GAAaxE,EAAAA,GAAAA,kBAAiB7T,QAAQ0U,EAAcjY,WAAO/Q,EAAW,QAE5E,IACEud,KAAK0C,MAAM0M,EACb,CAAE,MAAOzrB,GACP,GAAIA,aAAamR,OAAoB,gBAAXnR,EAAEoB,KAC1B,OAAO,EAGT,MAAMpB,CACR,CACF,CACA,OAAO,CAAK,EAU4B0rB,CAAe5D,GAAgB6D,MAAAA,GACjE,kBAACjN,EAAAA,MAAKA,CAACtd,KAAK,QAAQgR,OAAQmZ,EAAW5b,SApCzBic,GACpBP,EAAiB,SACZvD,GAAAA,CACHjY,MAAO+b,EAAMlY,cAAchT,SAiCwCA,MAAOonB,EAAcjY,SAEtF,kBAAC4B,EAAAA,YAAWA,CACVgZ,WAAY,GACZ7pB,MAAM,WACNqE,QAAQ,+JAER,kBAAC+lB,EAAAA,aAAYA,CACX5pB,KAAK,SACLgR,OAAQmZ,EACR5b,SAzCkBic,GAC1BP,EAAiB,SACZvD,GAAAA,CACHE,OAAQ4D,EAAMlY,cAAcwX,QAAU,OAAS,YAuCzCxqB,OAnBmBsnB,EAmBQF,EAAcE,OAlB/B,SAAXA,QADmB,IAACA,C","sources":["webpack:///external amd \"@emotion/css\"","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/runtime\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"lodash\"","webpack:///external amd \"react\"","webpack:///external amd \"rxjs\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./Component/QueryEditorModeToggle.tsx","webpack:///./Component/ConfigEditor.tsx","webpack:///../node_modules/@grafana/experimental/dist/esm/QueryEditor/EditorHeader.js","webpack:///../node_modules/@grafana/experimental/dist/esm/QueryEditor/Stack.js","webpack:///../node_modules/@grafana/experimental/dist/esm/QueryEditor/EditorRows.js","webpack:///../node_modules/@grafana/experimental/dist/esm/QueryEditor/EditorFieldGroup.js","webpack:///../node_modules/@grafana/experimental/dist/esm/QueryEditor/Space.js","webpack:///../node_modules/@grafana/experimental/dist/esm/QueryEditor/EditorField.js","webpack:///../node_modules/react-virtualized-auto-sizer/dist/react-virtualized-auto-sizer.esm.js","webpack:///./Component/QueryEditor.tsx","webpack:///./Component/QueryBuilderTextArea.tsx","webpack:///./Component/QueryBuilderPayloadSelect.tsx","webpack:///../node_modules/ts-pattern/dist/index.js","webpack:///./Component/QueryBuilderTag.tsx","webpack:///./Component/QueryBuilder.tsx","webpack:///./Component/QueryEditorContainer.tsx","webpack:///../node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack:///../node_modules/tslib/tslib.es6.mjs","webpack:///../node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack:///../node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack:///../node_modules/rxjs/dist/esm5/internal/config.js","webpack:///../node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack:///../node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack:///../node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack:///../node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","webpack:///../node_modules/rxjs/dist/esm5/internal/operators/map.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/lift.js","webpack:///./response_parser.ts","webpack:///./DataSource.ts","webpack:///./variable/valueFromVariableWithMultiSupport.ts","webpack:///./Component/VariableQueryEditor.tsx","webpack:///./module.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__644__;","module.exports = __WEBPACK_EXTERNAL_MODULE__305__;","module.exports = __WEBPACK_EXTERNAL_MODULE__545__;","module.exports = __WEBPACK_EXTERNAL_MODULE__388__;","module.exports = __WEBPACK_EXTERNAL_MODULE__980__;","module.exports = __WEBPACK_EXTERNAL_MODULE__650__;","module.exports = __WEBPACK_EXTERNAL_MODULE__177__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { RadioButtonGroup, Tag } from '@grafana/ui';\nimport { css } from '@emotion/css';\nimport React from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { QueryEditorMode } from 'types';\n\ntype RadioButtonGroupProps<T> = Parameters<typeof RadioButtonGroup<T>>[0];\n\nexport interface QueryEditorModeToggleProps extends Omit<RadioButtonGroupProps<QueryEditorMode>, 'options'> {\n  mode: QueryEditorMode;\n}\n\nconst editorModes: Array<SelectableValue<QueryEditorMode>> = [\n  {\n    label: 'Builder',\n    value: 'builder',\n    component: () => (\n      <Tag\n        className={css({\n          fontSize: 10,\n          padding: '1px 5px',\n          verticalAlign: 'text-bottom',\n        })}\n        name={'Experimental'}\n        colorIndex={1}\n      />\n    ),\n  },\n  { label: 'Code', value: 'code' },\n];\n\nexport function QueryEditorModeToggle({ mode, ...props }: QueryEditorModeToggleProps) {\n  return (\n    <div data-testid={'QueryEditorModeToggle'}>\n      <RadioButtonGroup size=\"sm\" {...props} options={editorModes} value={mode} />\n    </div>\n  );\n}\n","import { DataSourcePluginOptionsEditorProps } from '@grafana/data';\nimport { DataSourceHttpSettings, LegacyForms } from '@grafana/ui';\nimport React, { ComponentType } from 'react';\nimport { GenericOptions } from '../types';\nimport { QueryEditorModeToggle } from './QueryEditorModeToggle';\n\nconst { FormField } = LegacyForms;\n\ntype Props = DataSourcePluginOptionsEditorProps<GenericOptions>;\n\nexport const ConfigEditor: ComponentType<Props> = ({ options, onOptionsChange }) => (\n  <>\n    <DataSourceHttpSettings\n      defaultUrl={'http://localhost:8080'}\n      dataSourceConfig={options}\n      showAccessOptions={true}\n      onChange={onOptionsChange}\n    />\n    <h3 className=\"page-heading\">Other</h3>\n    <div className=\"gf-form-group\">\n      <div className=\"gf-form-inline\">\n        <div className=\"gf-form\">\n          <FormField\n            label=\"Default edit mode\"\n            labelWidth={13}\n            inputEl={\n              <QueryEditorModeToggle\n                size=\"md\"\n                mode={options.jsonData.defaultEditorMode ?? 'code'}\n                onChange={(v) => {\n                  onOptionsChange({\n                    ...options,\n                    jsonData: {\n                      ...options.jsonData,\n                      defaultEditorMode: v,\n                    },\n                  });\n                }}\n              />\n            }\n          />\n        </div>\n      </div>\n    </div>\n  </>\n);\n","import { css } from '@emotion/css';\nimport React__default from 'react';\nimport { useStyles2 } from '@grafana/ui';\n\nconst EditorHeader = ({ children }) => {\n  const styles = useStyles2(getStyles);\n  return /* @__PURE__ */ React__default.createElement(\"div\", { className: styles.root }, children);\n};\nconst getStyles = (theme) => ({\n  root: css({\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    gap: theme.spacing(3),\n    minHeight: theme.spacing(4)\n  })\n});\n\nexport { EditorHeader };\n//# sourceMappingURL=EditorHeader.js.map\n","import { css } from '@emotion/css';\nimport React__default, { useCallback } from 'react';\nimport { useStyles2 } from '@grafana/ui';\n\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst Stack = (_a) => {\n  var _b = _a, { children } = _b, props = __objRest(_b, [\"children\"]);\n  const styles = useStyles2(useCallback((theme) => getStyles(theme, props), [props]));\n  return /* @__PURE__ */ React__default.createElement(\"div\", { className: styles.root }, children);\n};\nconst getStyles = (theme, props) => {\n  var _a, _b, _c;\n  return {\n    root: css({\n      display: \"flex\",\n      flexDirection: (_a = props.direction) != null ? _a : \"row\",\n      flexWrap: ((_b = props.wrap) != null ? _b : true) ? \"wrap\" : void 0,\n      alignItems: props.alignItems,\n      gap: theme.spacing((_c = props.gap) != null ? _c : 2),\n      flexGrow: props.flexGrow\n    })\n  };\n};\n\nexport { Stack };\n//# sourceMappingURL=Stack.js.map\n","import React__default from 'react';\nimport { Stack } from './Stack.js';\n\nconst EditorRows = ({ children }) => {\n  return /* @__PURE__ */ React__default.createElement(Stack, { gap: 0.5, direction: \"column\" }, children);\n};\n\nexport { EditorRows };\n//# sourceMappingURL=EditorRows.js.map\n","import React__default from 'react';\nimport { Stack } from './Stack.js';\n\nconst EditorFieldGroup = ({ children }) => {\n  return /* @__PURE__ */ React__default.createElement(Stack, { gap: 1 }, children);\n};\n\nexport { EditorFieldGroup };\n//# sourceMappingURL=EditorFieldGroup.js.map\n","import { cx, css } from '@emotion/css';\nimport React__default, { useCallback } from 'react';\nimport { useStyles2 } from '@grafana/ui';\n\nconst Space = (props) => {\n  const styles = useStyles2(useCallback((theme) => getStyles(theme, props), [props]));\n  return /* @__PURE__ */ React__default.createElement(\"span\", { className: cx(styles.wrapper) });\n};\nSpace.defaultProps = {\n  v: 0,\n  h: 0,\n  layout: \"block\"\n};\nconst getStyles = (theme, props) => {\n  var _a, _b;\n  return {\n    wrapper: css([\n      {\n        paddingRight: theme.spacing((_a = props.h) != null ? _a : 0),\n        paddingBottom: theme.spacing((_b = props.v) != null ? _b : 0)\n      },\n      props.layout === \"inline\" && {\n        display: \"inline-block\"\n      },\n      props.layout === \"block\" && {\n        display: \"block\"\n      }\n    ])\n  };\n};\n\nexport { Space };\n//# sourceMappingURL=Space.js.map\n","import { css } from '@emotion/css';\nimport React__default, { useCallback } from 'react';\nimport { Space } from './Space.js';\nimport { useStyles2, ReactUtils, Tooltip, Icon, Field } from '@grafana/ui';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst EditorField = (props) => {\n  var _b;\n  const _a = props, { label, optional, tooltip, tooltipInteractive, children, width } = _a, fieldProps = __objRest(_a, [\"label\", \"optional\", \"tooltip\", \"tooltipInteractive\", \"children\", \"width\"]);\n  const styles = useStyles2(useCallback((theme) => getStyles(theme, width), [width]));\n  const childInputId = (fieldProps == null ? void 0 : fieldProps.htmlFor) || ((_b = ReactUtils) == null ? void 0 : _b.getChildId(children));\n  const labelEl = /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(\"label\", { className: styles.label, htmlFor: childInputId }, label, optional && /* @__PURE__ */ React__default.createElement(\"span\", { className: styles.optional }, \" - optional\"), tooltip && /* @__PURE__ */ React__default.createElement(Tooltip, { placement: \"top\", content: tooltip, theme: \"info\", interactive: tooltipInteractive }, /* @__PURE__ */ React__default.createElement(Icon, { tabIndex: 0, name: \"info-circle\", size: \"sm\", className: styles.icon }))), /* @__PURE__ */ React__default.createElement(Space, { v: 0.5 }));\n  return /* @__PURE__ */ React__default.createElement(\"div\", { className: styles.root }, /* @__PURE__ */ React__default.createElement(Field, __spreadValues({ className: styles.field, label: labelEl }, fieldProps), children));\n};\nconst getStyles = (theme, width) => {\n  return {\n    root: css({\n      minWidth: theme.spacing(width != null ? width : 0)\n    }),\n    label: css({\n      fontSize: 12,\n      fontWeight: theme.typography.fontWeightMedium\n    }),\n    optional: css({\n      fontStyle: \"italic\",\n      color: theme.colors.text.secondary\n    }),\n    field: css({\n      marginBottom: 0\n      // GrafanaUI/Field has a bottom margin which we must remove\n    }),\n    icon: css({\n      color: theme.colors.text.secondary,\n      marginLeft: theme.spacing(1),\n      \":hover\": {\n        color: theme.colors.text.primary\n      }\n    })\n  };\n};\n\nexport { EditorField };\n//# sourceMappingURL=EditorField.js.map\n","import { Component, createElement } from 'react';\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n * 5) Use 'export' statement over 'module.exports' assignment\n **/\n\n// Check `document` and `window` in case of server-side rendering\nlet windowObject;\nif (typeof window !== \"undefined\") {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== \"undefined\") {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\nlet cancelFrame = null;\nlet requestFrame = null;\nconst TIMEOUT_DURATION = 20;\nconst clearTimeoutFn = windowObject.clearTimeout;\nconst setTimeoutFn = windowObject.setTimeout;\nconst cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\nconst requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame([animationFrameID, timeoutID]) {\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    const animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n    const timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n    return [animationFrameID, timeoutID];\n  };\n}\nfunction createDetectElementResize(nonce) {\n  let animationKeyframes;\n  let animationName;\n  let animationStartEvent;\n  let animationStyle;\n  let checkTriggers;\n  let resetTriggers;\n  let scrollListener;\n  const attachEvent = typeof document !== \"undefined\" && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function (element) {\n      const triggers = element.__resizeTriggers__,\n        expand = triggers.firstElementChild,\n        contract = triggers.lastElementChild,\n        expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + \"px\";\n      expandChild.style.height = expand.offsetHeight + 1 + \"px\";\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n    checkTriggers = function (element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n    scrollListener = function (e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === \"function\" && e.target.className.indexOf(\"contract-trigger\") < 0 && e.target.className.indexOf(\"expand-trigger\") < 0) {\n        return;\n      }\n      const element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    let animation = false;\n    let keyframeprefix = \"\";\n    animationStartEvent = \"animationstart\";\n    const domPrefixes = \"Webkit Moz O ms\".split(\" \");\n    let startEvents = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \");\n    let pfx = \"\";\n    {\n      const elm = document.createElement(\"fakeelement\");\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n      if (animation === false) {\n        for (let i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + \"AnimationName\"] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = \"-\" + pfx.toLowerCase() + \"-\";\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    animationName = \"resizeanim\";\n    animationKeyframes = \"@\" + keyframeprefix + \"keyframes \" + animationName + \" { from { opacity: 0; } to { opacity: 0; } } \";\n    animationStyle = keyframeprefix + \"animation: 1ms \" + animationName + \"; \";\n  }\n  const createStyles = function (doc) {\n    if (!doc.getElementById(\"detectElementResize\")) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      const css = (animationKeyframes ? animationKeyframes : \"\") + \".resize-triggers { \" + (animationStyle ? animationStyle : \"\") + \"visibility: hidden; opacity: 0; } \" + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n        head = doc.head || doc.getElementsByTagName(\"head\")[0],\n        style = doc.createElement(\"style\");\n      style.id = \"detectElementResize\";\n      style.type = \"text/css\";\n      if (nonce != null) {\n        style.setAttribute(\"nonce\", nonce);\n      }\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n      head.appendChild(style);\n    }\n  };\n  const addResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.attachEvent(\"onresize\", fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        const doc = element.ownerDocument;\n        const elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === \"static\") {\n          element.style.position = \"relative\";\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement(\"div\")).className = \"resize-triggers\";\n        const expandTrigger = doc.createElement(\"div\");\n        expandTrigger.className = \"expand-trigger\";\n        expandTrigger.appendChild(doc.createElement(\"div\"));\n        const contractTrigger = doc.createElement(\"div\");\n        contractTrigger.className = \"contract-trigger\";\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener(\"scroll\", scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n  const removeResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.detachEvent(\"onresize\", fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener(\"scroll\", scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n  return {\n    addResizeListener,\n    removeResizeListener\n  };\n}\n\nclass AutoSizer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      height: this.props.defaultHeight || 0,\n      scaledHeight: this.props.defaultHeight || 0,\n      scaledWidth: this.props.defaultWidth || 0,\n      width: this.props.defaultWidth || 0\n    };\n    this._autoSizer = null;\n    this._detectElementResize = null;\n    this._parentNode = null;\n    this._resizeObserver = null;\n    this._timeoutId = null;\n    this._onResize = () => {\n      this._timeoutId = null;\n      const {\n        disableHeight,\n        disableWidth,\n        onResize\n      } = this.props;\n      if (this._parentNode) {\n        var _style$paddingLeft, _style$paddingRight, _style$paddingTop, _style$paddingBottom;\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        const style = window.getComputedStyle(this._parentNode) || {};\n        const paddingLeft = parseFloat((_style$paddingLeft = style.paddingLeft) !== null && _style$paddingLeft !== void 0 ? _style$paddingLeft : \"0\");\n        const paddingRight = parseFloat((_style$paddingRight = style.paddingRight) !== null && _style$paddingRight !== void 0 ? _style$paddingRight : \"0\");\n        const paddingTop = parseFloat((_style$paddingTop = style.paddingTop) !== null && _style$paddingTop !== void 0 ? _style$paddingTop : \"0\");\n        const paddingBottom = parseFloat((_style$paddingBottom = style.paddingBottom) !== null && _style$paddingBottom !== void 0 ? _style$paddingBottom : \"0\");\n        const rect = this._parentNode.getBoundingClientRect();\n        const scaledHeight = rect.height - paddingTop - paddingBottom;\n        const scaledWidth = rect.width - paddingLeft - paddingRight;\n        const height = this._parentNode.offsetHeight - paddingTop - paddingBottom;\n        const width = this._parentNode.offsetWidth - paddingLeft - paddingRight;\n        if (!disableHeight && (this.state.height !== height || this.state.scaledHeight !== scaledHeight) || !disableWidth && (this.state.width !== width || this.state.scaledWidth !== scaledWidth)) {\n          this.setState({\n            height,\n            width,\n            scaledHeight,\n            scaledWidth\n          });\n          if (typeof onResize === \"function\") {\n            onResize({\n              height,\n              scaledHeight,\n              scaledWidth,\n              width\n            });\n          }\n        }\n      }\n    };\n    this._setRef = autoSizer => {\n      this._autoSizer = autoSizer;\n    };\n  }\n  componentDidMount() {\n    const {\n      nonce\n    } = this.props;\n    if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n      // Delay access of parentNode until mount.\n      // This handles edge-cases where the component has already been unmounted before its ref has been set,\n      // As well as libraries like react-lite which have a slightly different lifecycle.\n      this._parentNode = this._autoSizer.parentNode;\n\n      // Defer requiring resize handler in order to support server-side rendering.\n      // See issue #41\n      if (this._parentNode != null) {\n        if (typeof ResizeObserver !== \"undefined\") {\n          this._resizeObserver = new ResizeObserver(() => {\n            // Guard against \"ResizeObserver loop limit exceeded\" error;\n            // could be triggered if the state update causes the ResizeObserver handler to run long.\n            // See https://github.com/bvaughn/react-virtualized-auto-sizer/issues/55\n            this._timeoutId = setTimeout(this._onResize, 0);\n          });\n          this._resizeObserver.observe(this._parentNode);\n        } else {\n          this._detectElementResize = createDetectElementResize(nonce);\n          this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n        }\n        this._onResize();\n      }\n    }\n  }\n  componentWillUnmount() {\n    if (this._parentNode) {\n      if (this._detectElementResize) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n      if (this._timeoutId !== null) {\n        clearTimeout(this._timeoutId);\n      }\n      if (this._resizeObserver) {\n        this._resizeObserver.observe(this._parentNode);\n        this._resizeObserver.disconnect();\n      }\n    }\n  }\n  render() {\n    const {\n      children,\n      defaultHeight,\n      defaultWidth,\n      disableHeight = false,\n      disableWidth = false,\n      nonce,\n      onResize,\n      style = {},\n      tagName = \"div\",\n      ...rest\n    } = this.props;\n    const {\n      height,\n      scaledHeight,\n      scaledWidth,\n      width\n    } = this.state;\n\n    // Outer div should not force width/height since that may prevent containers from shrinking.\n    // Inner component should overflow and use calculated width/height.\n    // See issue #68 for more information.\n    const outerStyle = {\n      overflow: \"visible\"\n    };\n    const childParams = {};\n\n    // Avoid rendering children before the initial measurements have been collected.\n    // At best this would just be wasting cycles.\n    let bailoutOnChildren = false;\n    if (!disableHeight) {\n      if (height === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.height = 0;\n      childParams.height = height;\n      childParams.scaledHeight = scaledHeight;\n    }\n    if (!disableWidth) {\n      if (width === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.width = 0;\n      childParams.width = width;\n      childParams.scaledWidth = scaledWidth;\n    }\n    return createElement(tagName, {\n      ref: this._setRef,\n      style: {\n        ...outerStyle,\n        ...style\n      },\n      ...rest\n    }, !bailoutOnChildren && children(childParams));\n  }\n}\n\nfunction isHeightAndWidthProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth !== true;\n}\nfunction isHeightOnlyProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth === true;\n}\nfunction isWidthOnlyProps(props) {\n  return props && props.disableHeight === true && props.disableWidth !== true;\n}\n\nexport { AutoSizer as default, isHeightAndWidthProps, isHeightOnlyProps, isWidthOnlyProps };\n","import { QueryEditorProps, SelectableValue } from '@grafana/data';\nimport { CodeEditor, InlineField, InlineFieldRow, InlineLabel, Select } from '@grafana/ui';\nimport { find } from 'lodash';\n\nimport React, { ComponentType } from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { DataSource } from '../DataSource';\n\nimport { GenericOptions, GrafanaQuery } from '../types';\n\ninterface Props extends QueryEditorProps<DataSource, GrafanaQuery, GenericOptions> {\n  payload?: string;\n}\n\ninterface LastQuery {\n  payload: string;\n  metric: string;\n}\n\nexport const QueryEditor: ComponentType<Props> = ({\n  datasource,\n  onChange,\n  onRunQuery,\n  query,\n  payload: queryPayload,\n}) => {\n  const [metric, setMetric] = React.useState<SelectableValue<string | number>>();\n  const [payload, setPayload] = React.useState(queryPayload ?? '');\n\n  const [lastQuery, setLastQuery] = React.useState<LastQuery | null>(null);\n\n  const [metricOptions, setMetricOptions] = React.useState<Array<SelectableValue<string | number>>>([]);\n  const [isMetricOptionsLoading, setIsMetricOptionsLoading] = React.useState<boolean>(false);\n\n  const loadMetrics = React.useCallback(() => {\n    return datasource.listMetrics('', undefined).then(\n      (result) => {\n        const metrics = result.map((value) => ({ label: value.label, value: value.value }));\n\n        const foundMetric = find(metrics, (metric) => metric.value === query.target);\n\n        setMetric(foundMetric === undefined ? { label: '', value: '' } : foundMetric);\n\n        return metrics;\n      },\n      (response) => {\n        setMetric({ label: '', value: '' });\n        setMetricOptions([]);\n\n        throw new Error(response.statusText);\n      }\n    );\n  }, [datasource, query.target]);\n\n  const refreshMetricOptions = React.useCallback(() => {\n    setIsMetricOptionsLoading(true);\n    loadMetrics()\n      .then((metrics) => {\n        setMetricOptions(metrics);\n      })\n      .finally(() => {\n        setIsMetricOptionsLoading(false);\n      });\n  }, [loadMetrics, setMetricOptions, setIsMetricOptionsLoading]);\n\n  // Initializing metric options\n  React.useEffect(() => refreshMetricOptions(), []);\n\n  React.useEffect(() => {\n    if (metric?.value === undefined || metric?.value === '') {\n      return;\n    }\n\n    if (lastQuery !== null && metric?.value === lastQuery.metric && payload === lastQuery.payload) {\n      return;\n    }\n\n    setLastQuery({ payload, metric: metric.value.toString() });\n\n    onChange({ ...query, payload, target: metric.value.toString() });\n\n    onRunQuery();\n  }, [payload, metric]);\n\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField>\n          <Select\n            isLoading={isMetricOptionsLoading}\n            prefix=\"Metric: \"\n            options={metricOptions}\n            placeholder=\"Select metric\"\n            allowCustomValue\n            value={metric}\n            onChange={(v) => {\n              setMetric(v);\n            }}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      <InlineFieldRow>\n        <AutoSizer disableHeight>\n          {({ width }) => (\n            <div style={{ width: width + 'px' }}>\n              <InlineLabel>Payload</InlineLabel>\n              <CodeEditor\n                width=\"100%\"\n                height=\"200px\"\n                language=\"json\"\n                showLineNumbers={true}\n                showMiniMap={payload.length > 100}\n                value={payload}\n                onBlur={(value) => setPayload(value)}\n              />\n            </div>\n          )}\n        </AutoSizer>\n      </InlineFieldRow>\n    </>\n  );\n};\n","import { css, CSSObject, cx } from '@emotion/css';\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { MetricPayloadConfig } from 'types';\nimport React, { ComponentType } from 'react';\nimport { withTheme2 } from '@grafana/ui';\n\ninterface Props {\n  config: MetricPayloadConfig;\n  onValueChange: (value: string) => void;\n  theme: GrafanaTheme2;\n  value?: string;\n}\n\nfunction getFocusStyles(theme: GrafanaTheme2): CSSObject {\n  return {\n    outline: '2px dotted transparent',\n    outlineOffset: '2px',\n    boxShadow: `0 0 0 2px ${theme.colors.background.canvas}, 0 0 0px 4px ${theme.colors.primary.main}`,\n    transitionTimingFunction: `cubic-bezier(0.19, 1, 0.22, 1)`,\n    transitionDuration: '0.2s',\n    transitionProperty: 'outline, outline-offset, box-shadow',\n  };\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  const focusStyles = getFocusStyles(theme);\n  return {\n    wrapper: css`\n      &:focus-within {\n        ${focusStyles}\n      }\n    `,\n  };\n};\n\nconst UnThemedTextArea: ComponentType<Props> = ({ theme, onValueChange, value }) => {\n  const styles = getStyles(theme);\n  const html = React.useRef<string>(\n    value === undefined\n      ? '</div>'\n      : `<div>${value.replace(/([^\\n])\\n/g, '$1</div><div>').replace(/\\n/g, '</div><div><br /></div><div>')}`\n  );\n\n  return (\n    <div className={cx('slate-query-field__wrapper', styles.wrapper)}>\n      <div\n        dangerouslySetInnerHTML={{ __html: html.current }}\n        contentEditable={true}\n        style={{ width: '100%', outline: 'none' }}\n        onBlur={(val) => {\n          onValueChange(val.currentTarget.innerText.replace(/\\n\\n/g, '\\n'));\n        }}\n        onInput={(v) => {\n          html.current = v.currentTarget.innerHTML;\n        }}\n      />\n    </div>\n  );\n};\n\nexport const QueryBuilderTextArea = withTheme2(UnThemedTextArea);\n","import { QueryEditorProps, SelectableValue } from '@grafana/data';\nimport { Select } from '@grafana/ui';\nimport { DataSource } from 'DataSource';\nimport { includes, isArray } from 'lodash';\nimport React, { ComponentType } from 'react';\nimport { GenericOptions, GrafanaQuery, MetricPayloadConfig } from 'types';\n\ninterface PayloadSelectProps extends QueryEditorProps<DataSource, GrafanaQuery, GenericOptions> {\n  config: MetricPayloadConfig;\n  onPayloadChange: (value: SelectableValue<string | number> | Array<SelectableValue<string | number>>) => void;\n  isMulti?: boolean;\n  value?: string | number | string[] | number[];\n}\n\nexport const QueryBuilderPayloadSelect: ComponentType<PayloadSelectProps> = ({\n  config,\n  datasource,\n  query,\n  onPayloadChange,\n  isMulti,\n  value,\n}) => {\n  const [currentOption, setCurrentOption] = React.useState<\n    SelectableValue<string | number> | Array<SelectableValue<string | number>>\n  >();\n  const [isPayloadOptionsLoading, setIsPayloadOptionsLoading] = React.useState<boolean>(false);\n  const [payloadOptions, setPayloadOptions] = React.useState<Array<SelectableValue<string | number>>>([]);\n  const loadMetricPayloadOptions = React.useCallback(() => {\n    return datasource.listMetricPayloadOptions(config.name, query.target ?? '', query.payload).then(\n      (metrics) => {\n        if (value) {\n          const vars = datasource.getVariables();\n          for (const key in vars) {\n            if (Object.prototype.hasOwnProperty.call(vars, key)) {\n              metrics.push({ label: `$${key}`, value: `$${key}` });\n            }\n          }\n\n          if (isArray(currentOption)) {\n            for (let index = 0; index < currentOption.length; index++) {\n              const foundOption = metrics.find((item) => item.value === currentOption[index].value);\n              if (foundOption !== undefined) {\n                metrics.push({\n                  value: currentOption[index].value,\n                  label: currentOption[index].label,\n                });\n              }\n            }\n          } else if (currentOption) {\n            const foundOption = metrics.find((item) => item.value === currentOption.value);\n            if (foundOption !== undefined) {\n              metrics.push({ ...currentOption, value: currentOption.value, label: currentOption.label });\n            }\n          }\n        }\n\n        return metrics;\n      },\n      (response) => {\n        setPayloadOptions([]);\n\n        throw new Error(response.statusText);\n      }\n    );\n  }, [datasource, query.payload, query.target]);\n\n  const getMetricPayloadOptions = React.useCallback(() => {\n    setIsPayloadOptionsLoading(true);\n    loadMetricPayloadOptions()\n      .then((options) => {\n        setPayloadOptions(options);\n      })\n      .finally(() => {\n        setIsPayloadOptionsLoading(false);\n      });\n  }, [loadMetricPayloadOptions, setPayloadOptions, setIsPayloadOptionsLoading]);\n\n  // Initializing metric options\n  React.useEffect(() => {\n    if (value) {\n      getMetricPayloadOptions();\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (value) {\n      if (isArray(value)) {\n        const foundOptions = payloadOptions.filter((item) => includes(value, item.value));\n        if (foundOptions) {\n          setCurrentOption(foundOptions);\n        } else if (value) {\n          setCurrentOption([{ label: value, value: value }]);\n        }\n      } else {\n        const foundOption = payloadOptions.find((item) => item.value === value);\n        if (foundOption) {\n          setCurrentOption(foundOption);\n        } else if (value) {\n          setCurrentOption({ label: value.toString(), value: value });\n        }\n      }\n    } else {\n      setCurrentOption(undefined);\n    }\n  }, [query.payload, payloadOptions]);\n\n  return (\n    <Select<string | number>\n      key={config.name}\n      width={config.width}\n      isLoading={isPayloadOptionsLoading}\n      prefix={config.label}\n      options={config.options ?? payloadOptions}\n      placeholder={config.placeholder ?? ''}\n      allowCustomValue\n      isClearable={true}\n      isMulti={isMulti}\n      value={currentOption}\n      onOpenMenu={() => {\n        if (!config.options) {\n          getMetricPayloadOptions();\n        }\n      }}\n      onChange={(v) => {\n        onPayloadChange(v);\n      }}\n    />\n  );\n};\n","const t=Symbol(\"@ts-pattern/matcher\"),e=Symbol(\"@ts-pattern/isVariadic\"),n=\"@ts-pattern/anonymous-select-key\",r=t=>Boolean(t&&\"object\"==typeof t),i=e=>e&&!!e[t],s=(n,o,c)=>{if(i(n)){const e=n[t](),{matched:r,selections:i}=e.match(o);return r&&i&&Object.keys(i).forEach(t=>c(t,i[t])),r}if(r(n)){if(!r(o))return!1;if(Array.isArray(n)){if(!Array.isArray(o))return!1;let t=[],r=[],a=[];for(const s of n.keys()){const o=n[s];i(o)&&o[e]?a.push(o):a.length?r.push(o):t.push(o)}if(a.length){if(a.length>1)throw new Error(\"Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.\");if(o.length<t.length+r.length)return!1;const e=o.slice(0,t.length),n=0===r.length?[]:o.slice(-r.length),i=o.slice(t.length,0===r.length?Infinity:-r.length);return t.every((t,n)=>s(t,e[n],c))&&r.every((t,e)=>s(t,n[e],c))&&(0===a.length||s(a[0],i,c))}return n.length===o.length&&n.every((t,e)=>s(t,o[e],c))}return Object.keys(n).every(e=>{const r=n[e];return(e in o||i(a=r)&&\"optional\"===a[t]().matcherType)&&s(r,o[e],c);var a})}return Object.is(o,n)},o=e=>{var n,s,a;return r(e)?i(e)?null!=(n=null==(s=(a=e[t]()).getSelectionKeys)?void 0:s.call(a))?n:[]:Array.isArray(e)?c(e,o):c(Object.values(e),o):[]},c=(t,e)=>t.reduce((t,n)=>t.concat(e(n)),[]);function a(...t){if(1===t.length){const[e]=t;return t=>s(e,t,()=>{})}if(2===t.length){const[e,n]=t;return s(e,n,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${t.length}.`)}function u(t){return Object.assign(t,{optional:()=>l(t),and:e=>m(t,e),or:e=>y(t,e),select:e=>void 0===e?d(t):d(e,t)})}function h(t){return Object.assign((t=>Object.assign(t,{*[Symbol.iterator](){yield Object.assign(t,{[e]:!0})}}))(t),{optional:()=>h(l(t)),select:e=>h(void 0===e?d(t):d(e,t))})}function l(e){return u({[t]:()=>({match:t=>{let n={};const r=(t,e)=>{n[t]=e};return void 0===t?(o(e).forEach(t=>r(t,void 0)),{matched:!0,selections:n}):{matched:s(e,t,r),selections:n}},getSelectionKeys:()=>o(e),matcherType:\"optional\"})})}const g=(t,e)=>{for(const n of t)if(!e(n))return!1;return!0},f=(t,e)=>{for(const[n,r]of t.entries())if(!e(r,n))return!1;return!0};function m(...e){return u({[t]:()=>({match:t=>{let n={};const r=(t,e)=>{n[t]=e};return{matched:e.every(e=>s(e,t,r)),selections:n}},getSelectionKeys:()=>c(e,o),matcherType:\"and\"})})}function y(...e){return u({[t]:()=>({match:t=>{let n={};const r=(t,e)=>{n[t]=e};return c(e,o).forEach(t=>r(t,void 0)),{matched:e.some(e=>s(e,t,r)),selections:n}},getSelectionKeys:()=>c(e,o),matcherType:\"or\"})})}function p(e){return{[t]:()=>({match:t=>({matched:Boolean(e(t))})})}}function d(...e){const r=\"string\"==typeof e[0]?e[0]:void 0,i=2===e.length?e[1]:\"string\"==typeof e[0]?void 0:e[0];return u({[t]:()=>({match:t=>{let e={[null!=r?r:n]:t};return{matched:void 0===i||s(i,t,(t,n)=>{e[t]=n}),selections:e}},getSelectionKeys:()=>[null!=r?r:n].concat(void 0===i?[]:o(i))})})}function v(t){return\"number\"==typeof t}function b(t){return\"string\"==typeof t}function w(t){return\"bigint\"==typeof t}const S=u(p(function(t){return!0})),O=S,j=t=>Object.assign(u(t),{startsWith:e=>{return j(m(t,(n=e,p(t=>b(t)&&t.startsWith(n)))));var n},endsWith:e=>{return j(m(t,(n=e,p(t=>b(t)&&t.endsWith(n)))));var n},minLength:e=>j(m(t,(t=>p(e=>b(e)&&e.length>=t))(e))),maxLength:e=>j(m(t,(t=>p(e=>b(e)&&e.length<=t))(e))),includes:e=>{return j(m(t,(n=e,p(t=>b(t)&&t.includes(n)))));var n},regex:e=>{return j(m(t,(n=e,p(t=>b(t)&&Boolean(t.match(n))))));var n}}),B=j(p(b)),E=(t,e)=>p(n=>v(n)&&t<=n&&e>=n),I=t=>p(e=>v(e)&&e<t),K=t=>p(e=>v(e)&&e>t),A=t=>p(e=>v(e)&&e<=t),k=t=>p(e=>v(e)&&e>=t),x=()=>p(t=>v(t)&&Number.isInteger(t)),P=()=>p(t=>v(t)&&Number.isFinite(t)),T=()=>p(t=>v(t)&&t>0),_=()=>p(t=>v(t)&&t<0),W=t=>Object.assign(u(t),{between:(e,n)=>W(m(t,E(e,n))),lt:e=>W(m(t,I(e))),gt:e=>W(m(t,K(e))),lte:e=>W(m(t,A(e))),gte:e=>W(m(t,k(e))),int:()=>W(m(t,x())),finite:()=>W(m(t,P())),positive:()=>W(m(t,T())),negative:()=>W(m(t,_()))}),N=W(p(v)),$=(t,e)=>p(n=>w(n)&&t<=n&&e>=n),z=t=>p(e=>w(e)&&e<t),L=t=>p(e=>w(e)&&e>t),M=t=>p(e=>w(e)&&e<=t),F=t=>p(e=>w(e)&&e>=t),J=()=>p(t=>w(t)&&t>0),U=()=>p(t=>w(t)&&t<0),V=t=>Object.assign(u(t),{between:(e,n)=>V(m(t,$(e,n))),lt:e=>V(m(t,z(e))),gt:e=>V(m(t,L(e))),lte:e=>V(m(t,M(e))),gte:e=>V(m(t,F(e))),positive:()=>V(m(t,J())),negative:()=>V(m(t,U()))}),q=V(p(w)),C=u(p(function(t){return\"boolean\"==typeof t})),D=u(p(function(t){return\"symbol\"==typeof t})),G=u(p(function(t){return null==t}));var H={__proto__:null,matcher:t,optional:l,array:function(...e){return h({[t]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};if(0===e.length)return{matched:!0};const n=e[0];let r={};if(0===t.length)return o(n).forEach(t=>{r[t]=[]}),{matched:!0,selections:r};const i=(t,e)=>{r[t]=(r[t]||[]).concat([e])};return{matched:t.every(t=>s(n,t,i)),selections:r}},getSelectionKeys:()=>0===e.length?[]:o(e[0])})})},set:function(...e){return u({[t]:()=>({match:t=>{if(!(t instanceof Set))return{matched:!1};let n={};if(0===t.size)return{matched:!0,selections:n};if(0===e.length)return{matched:!0};const r=(t,e)=>{n[t]=(n[t]||[]).concat([e])},i=e[0];return{matched:g(t,t=>s(i,t,r)),selections:n}},getSelectionKeys:()=>0===e.length?[]:o(e[0])})})},map:function(...e){return u({[t]:()=>({match:t=>{if(!(t instanceof Map))return{matched:!1};let n={};if(0===t.size)return{matched:!0,selections:n};const r=(t,e)=>{n[t]=(n[t]||[]).concat([e])};if(0===e.length)return{matched:!0};var i;if(1===e.length)throw new Error(`\\`P.map\\` wasn't given enough arguments. Expected (key, value), received ${null==(i=e[0])?void 0:i.toString()}`);const[o,c]=e;return{matched:f(t,(t,e)=>{const n=s(o,e,r),i=s(c,t,r);return n&&i}),selections:n}},getSelectionKeys:()=>0===e.length?[]:[...o(e[0]),...o(e[1])]})})},intersection:m,union:y,not:function(e){return u({[t]:()=>({match:t=>({matched:!s(e,t,()=>{})}),getSelectionKeys:()=>[],matcherType:\"not\"})})},when:p,select:d,any:S,_:O,string:B,between:E,lt:I,gt:K,lte:A,gte:k,int:x,finite:P,positive:T,negative:_,number:N,betweenBigInt:$,ltBigInt:z,gtBigInt:L,lteBigInt:M,gteBigInt:F,positiveBigInt:J,negativeBigInt:U,bigint:q,boolean:C,symbol:D,nullish:G,instanceOf:function(t){return u(p(function(t){return e=>e instanceof t}(t)))},shape:function(t){return u(p(a(t)))}};function Q(t){return new X(t)}const R={matched:!1,value:void 0};class X{constructor(t,e=R){this.input=void 0,this.state=void 0,this.input=t,this.state=e}with(...t){if(this.state.matched)return this;const e=t[t.length-1],r=[t[0]],i=[];3===t.length&&\"function\"==typeof t[1]?(r.push(t[0]),i.push(t[1])):t.length>2&&r.push(...t.slice(1,t.length-1));let o={};const c=Boolean(r.some(t=>s(t,this.input,(t,e)=>{o[t]=e}))&&i.every(t=>t(this.input)))?{matched:!0,value:e(Object.keys(o).length?n in o?o[n]:o:this.input,this.input)}:R;return new X(this.input,c)}when(t,e){if(this.state.matched)return this;const n=Boolean(t(this.input));return new X(this.input,n?{matched:!0,value:e(this.input,this.input)}:R)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){return this.run()}run(){if(this.state.matched)return this.state.value;let t;try{t=JSON.stringify(this.input)}catch(e){t=this.input}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}returnType(){return this}}export{H as P,H as Pattern,a as isMatching,Q as match};\n//# sourceMappingURL=index.js.map\n","import { css } from '@emotion/css';\nimport { GrafanaTheme } from '@grafana/data';\nimport { getTagColorsFromName, IconButton, stylesFactory, useTheme } from '@grafana/ui';\nimport React, { ComponentType } from 'react';\nimport { match } from 'ts-pattern';\n\ntype QueryBuilderTagProps = {\n  name: string;\n  value: unknown;\n  onRemove: (name: string) => void;\n};\n\nconst getStyles = stylesFactory(({ theme, name }: { theme: GrafanaTheme; name: string }) => {\n  const { color, borderColor } = getTagColorsFromName(name);\n  const height = theme.spacing.formInputHeight - 8;\n\n  return {\n    itemStyle: css`\n      display: flex;\n      align-items: center;\n      height: ${height}px;\n      line-height: ${height - 2}px;\n      background-color: ${color};\n      color: ${theme.palette.white};\n      border: 1px solid ${borderColor};\n      border-radius: 3px;\n      padding: 0 ${theme.spacing.xs};\n      margin-right: 3px;\n      white-space: nowrap;\n      text-shadow: none;\n      font-weight: 500;\n      font-size: ${theme.typography.size.sm};\n    `,\n\n    nameStyle: css`\n      margin-right: 3px;\n    `,\n\n    buttonStyles: css`\n      margin: 0;\n      &:hover::before {\n        display: none;\n      }\n    `,\n  };\n});\n\nexport const QueryBuilderTag: ComponentType<QueryBuilderTagProps> = ({ name, value, onRemove }) => {\n  const theme = useTheme();\n  const styles = getStyles({ theme, name });\n\n  const formattedValue = match(typeof value)\n    .with('string', () => `\"${value}\"`)\n    .with('number', () => value)\n    .with('boolean', () => (value as boolean).toString())\n    .with('object', () => (value === null ? 'null' : `\"${JSON.stringify(value)}\"`))\n    .otherwise(() => `\"${JSON.stringify(value)}\"`);\n\n  return (\n    <div className={styles.itemStyle}>\n      <span className={styles.nameStyle}>\n        {name}={formattedValue}\n      </span>\n      <IconButton\n        name=\"times\"\n        size=\"lg\"\n        ariaLabel={`Remove ${name}`}\n        onClick={() => onRemove(name)}\n        type=\"button\"\n        className={styles.buttonStyles}\n      />\n    </div>\n  );\n};\n","import { DataSource } from 'DataSource';\nimport React, { ComponentType } from 'react';\nimport { QueryEditorProps, SelectableValue } from '@grafana/data';\nimport { InlineField, Input, Select } from '@grafana/ui';\nimport { find, isArray } from 'lodash';\nimport { GenericOptions, GrafanaQuery, MetricConfig, MetricPayloadConfig } from '../types';\nimport { EditorField, EditorFieldGroup } from '@grafana/experimental';\nimport { QueryBuilderTextArea } from './QueryBuilderTextArea';\nimport { QueryBuilderPayloadSelect } from './QueryBuilderPayloadSelect';\nimport { QueryBuilderTag } from './QueryBuilderTag';\n\ninterface LastQuery {\n  payload: string | { [key: string]: any };\n  metric: string;\n}\n\ntype UnknownPayload = Array<{ name: string; value: unknown }>;\n\ntype EditorProps = QueryEditorProps<DataSource, GrafanaQuery, GenericOptions>;\n\ninterface Props extends EditorProps {\n  payload: { [key: string]: unknown };\n}\n\nexport const QueryBuilder: ComponentType<Props> = (props) => {\n  const { datasource, onChange, onRunQuery, query } = props;\n  const [metric, setMetric] = React.useState<SelectableValue<string | number>>();\n  const [payload, setPayload] = React.useState(props.payload ?? '');\n\n  const [unknownPayload, setUnknownPayload] = React.useState<UnknownPayload>([]);\n\n  const [lastQuery, setLastQuery] = React.useState<LastQuery | null>(null);\n  const [payloadConfig, setPayloadConfig] = React.useState<MetricPayloadConfig[]>([]);\n  const [metricOptions, setMetricOptions] = React.useState<MetricConfig[]>([]);\n  const [isMetricOptionsLoading, setIsMetricOptionsLoading] = React.useState<boolean>(false);\n\n  const loadMetrics = React.useCallback(() => {\n    return datasource.listMetrics(metric?.value ?? query.target ?? '', payload).then(\n      (metrics) => {\n        const foundMetric = find(metrics, (metric) => metric.value === query.target);\n        setMetric(\n          foundMetric === undefined ? { label: '', value: '' } : { label: foundMetric.label, value: foundMetric.value }\n        );\n        setPayloadConfig(foundMetric?.payloads ?? []);\n        return metrics;\n      },\n      (response) => {\n        setMetric({ label: '', value: '' });\n        setMetricOptions([]);\n\n        throw new Error(response.statusText);\n      }\n    );\n  }, [datasource, payload, metric?.value]);\n\n  const loadMetricOptions = React.useCallback(() => {\n    setIsMetricOptionsLoading(true);\n    loadMetrics()\n      .then((metrics) => {\n        setMetricOptions(metrics);\n      })\n      .finally(() => {\n        setIsMetricOptionsLoading(false);\n      });\n  }, [loadMetrics, setMetricOptions, setIsMetricOptionsLoading]);\n\n  // Initializing metric options\n  React.useEffect(() => loadMetricOptions(), []);\n\n  React.useEffect(() => {\n    if (metric?.value === undefined || metric?.value === '') {\n      return;\n    }\n\n    if (lastQuery !== null && metric?.value === lastQuery.metric && payload === lastQuery.payload) {\n      return;\n    }\n\n    setLastQuery({ payload, metric: metric.value.toString() });\n\n    onChange({ ...query, payload, target: metric.value.toString() });\n\n    onRunQuery();\n  }, [payload, metric]);\n\n  React.useEffect(() => {\n    const newUnknownPayload: UnknownPayload = [];\n    for (const key in payload) {\n      const foundConfig = payloadConfig.find((item) => item.name === key);\n      if (foundConfig === undefined) {\n        newUnknownPayload.push({ name: key, value: payload[key] });\n      }\n\n      setUnknownPayload(newUnknownPayload);\n    }\n  }, [payload, payloadConfig]);\n\n  const changePayload = (\n    name: string,\n    reloadMetric?: boolean,\n    v?: SelectableValue<string | number> | Array<SelectableValue<string | number>>\n  ) => {\n    setPayload((ori) => {\n      let newPayload: { [key: string]: any } = { ...ori };\n      if (isArray(v)) {\n        newPayload[name] = v\n          .map((item) => item.value)\n          .filter((item) => (item !== undefined ? item.toString().length > 0 : false));\n      } else if (v && v.value !== undefined && v.value !== '') {\n        newPayload[name] = v.value;\n      } else {\n        delete newPayload[name];\n      }\n      if (reloadMetric) {\n        setIsMetricOptionsLoading(true);\n        datasource\n          .listMetrics(metric?.value ?? '', { ...newPayload })\n          .then(\n            (metrics) => {\n              const foundMetric = find(metrics, (metric) => metric.value === query.target);\n              setMetric(foundMetric === undefined ? { label: '', value: '' } : foundMetric);\n              setPayloadConfig(foundMetric?.payloads ?? []);\n              setMetricOptions(metrics);\n            },\n            (response) => {\n              setMetric({ label: '', value: '' });\n              setMetricOptions([]);\n              throw new Error(response.statusText);\n            }\n          )\n          .finally(() => {\n            setIsMetricOptionsLoading(false);\n          });\n      }\n      return newPayload;\n    });\n  };\n  return (\n    <>\n      <EditorFieldGroup>\n        <EditorField label=\"Metric\">\n          <Select\n            isLoading={isMetricOptionsLoading}\n            options={metricOptions}\n            placeholder=\"Select metric\"\n            allowCustomValue\n            value={metric}\n            onOpenMenu={() => {\n              loadMetricOptions.length === 0 && loadMetricOptions();\n            }}\n            onChange={(v) => {\n              const findOpts = metricOptions.find((item) => item.value === v.value);\n              setPayloadConfig(findOpts?.payloads ?? []);\n              setMetric(v);\n            }}\n          />\n        </EditorField>\n      </EditorFieldGroup>\n      {payloadConfig.length > 0 && (\n        <EditorFieldGroup>\n          <EditorField label=\"Payload\" style={{ width: '100%' }}>\n            <div style={{ display: 'flex', flexFlow: 'row wrap', gap: 16, width: '100%' }}>\n              {payloadConfig.map((opt) => {\n                switch (opt.type) {\n                  case 'select':\n                  case 'multi-select':\n                    return (\n                      <InlineField key={opt.name} style={{ display: 'inline-flex' }}>\n                        <QueryBuilderPayloadSelect\n                          {...props}\n                          config={opt}\n                          // TODO: Handle types properly, possibly buggy\n                          value={payload[opt.name] as string | number | string[] | number[]}\n                          isMulti={opt.type === 'multi-select'}\n                          onPayloadChange={(v) => {\n                            changePayload(opt.name, opt.reloadMetric, v);\n                          }}\n                        />\n                      </InlineField>\n                    );\n                  case 'textarea':\n                    return (\n                      <InlineField key={opt.name} style={{ width: '100%', display: 'inline' }}>\n                        <div style={{ width: '100%', display: 'flex' }}>\n                          <label className=\"gf-form-label\">{opt.label ?? opt.label}</label>\n                          <QueryBuilderTextArea\n                            config={opt}\n                            // TODO: Handle types properly, possibly buggy\n                            value={payload[opt.name] as string}\n                            onValueChange={(v) => {\n                              changePayload(opt.name, opt.reloadMetric, { value: v });\n                            }}\n                          />\n                        </div>\n                      </InlineField>\n                    );\n                  default:\n                    return (\n                      <InlineField key={opt.name} style={{ display: 'inline-flex' }}>\n                        <Input\n                          prefix={opt.label}\n                          width={opt.width}\n                          onBlur={(e) => {\n                            changePayload(opt.name, opt.reloadMetric, { value: e.currentTarget.value });\n                          }}\n                          defaultValue={payload[opt.name] as string}\n                          placeholder={opt.placeholder ?? ''}\n                        />\n                      </InlineField>\n                    );\n                }\n              })}\n            </div>\n          </EditorField>\n        </EditorFieldGroup>\n      )}\n      {unknownPayload.length > 0 && (\n        <EditorFieldGroup>\n          <EditorField\n            label=\"Unknown payload\"\n            tooltip={\n              <>\n                Payload options that are set but not defined in the <code>Metric.payloads</code>.\n              </>\n            }\n          >\n            <div style={{ display: 'flex', flexFlow: 'row wrap', gap: 16, width: '100%' }}>\n              {unknownPayload.map((item, idx) => {\n                return (\n                  <QueryBuilderTag\n                    key={`${item.name}-${idx}`}\n                    name={item.name}\n                    value={item.value}\n                    onRemove={() => {\n                      changePayload(item.name, false, { value: '' });\n                    }}\n                  />\n                );\n              })}\n            </div>\n          </EditorField>\n        </EditorFieldGroup>\n      )}\n    </>\n  );\n};\n","import { QueryEditorProps } from '@grafana/data';\nimport { EditorField, EditorFieldGroup, EditorHeader, EditorRows } from '@grafana/experimental';\nimport React, { ComponentType, useCallback } from 'react';\nimport { DataSource } from '../DataSource';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\nimport { QueryEditor } from './QueryEditor';\nimport { QueryBuilder } from './QueryBuilder';\nimport { QueryEditorModeToggle } from './QueryEditorModeToggle';\nimport { GenericOptions, GrafanaQuery, QueryEditorMode } from '../types';\nimport { CodeEditor, InlineField, InlineSwitch } from '@grafana/ui';\n\ntype Props = QueryEditorProps<DataSource, GrafanaQuery, GenericOptions>;\n\nfunction convertPayloadToObject(payload: string | { [key: string]: unknown }): { [key: string]: unknown } {\n  if (payload) {\n    if (typeof payload === 'string') {\n      try {\n        return JSON.parse(payload);\n      } catch (err) {\n        console.error(err);\n        return {};\n      }\n    } else {\n      return payload;\n    }\n  } else {\n    return {};\n  }\n}\n\nconst convertPayloadToString = (payload: string | { [key: string]: unknown }): string => {\n  if (typeof payload === 'string') {\n    return payload;\n  } else if (payload) {\n    return JSON.stringify(payload, undefined, 2);\n  } else {\n    return '';\n  }\n};\n\nexport const QueryEditorContainer: ComponentType<Props> = (props) => {\n  const { onChange, query, datasource } = props;\n  const { defaultEditorMode } = datasource;\n  const editorMode = query.editorMode!;\n\n  const [showRawQuery, setShowRawQuery] = React.useState<boolean>(false);\n  React.useEffect(() => {\n    onChange({\n      ...query,\n      editorMode: query.editorMode ?? defaultEditorMode,\n    });\n  }, []);\n\n  const onEditorModeChange = useCallback(\n    (newMetricEditorMode: QueryEditorMode) => {\n      onChange({\n        ...query,\n        editorMode: newMetricEditorMode,\n      });\n    },\n    [onChange, query]\n  );\n\n  return (\n    <>\n      <EditorHeader>\n        <InlineField label=\"Mode\">\n          <QueryEditorModeToggle size=\"md\" mode={editorMode} onChange={onEditorModeChange} />\n        </InlineField>\n        <InlineField label=\"Raw query\">\n          <InlineSwitch\n            sizes=\"md\"\n            label=\"Raw query\"\n            value={showRawQuery}\n            onChange={(v) => setShowRawQuery(v.currentTarget.checked)}\n          />\n        </InlineField>\n      </EditorHeader>\n      <EditorRows>\n        {(editorMode ?? defaultEditorMode) === 'code' && (\n          <QueryEditor {...props} payload={convertPayloadToString(query.payload)} />\n        )}\n        {(editorMode ?? defaultEditorMode) === 'builder' && (\n          <QueryBuilder {...props} payload={convertPayloadToObject(query.payload)} />\n        )}\n      </EditorRows>\n      {showRawQuery && (\n        <EditorFieldGroup>\n          <EditorField label=\"Raw query\" width={'100%'} style={{ width: '100%' }}>\n            <AutoSizer disableHeight>\n              {({ width }) => {\n                return (\n                  <div style={{ width: width + 'px' }}>\n                    <CodeEditor\n                      width=\"100%\"\n                      height=\"200px\"\n                      readOnly={true}\n                      value={JSON.stringify(datasource.processTarget(query), undefined, 2)}\n                      onBlur={() => {}}\n                      language=\"json\"\n                    />\n                  </div>\n                );\n              }}\n            </AutoSizer>\n          </EditorField>\n        </EditorFieldGroup>\n      )}\n    </>\n  );\n};\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n};\n","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { MetricFindValue, toDataFrame } from '@grafana/data';\nimport { BackendDataSourceResponse, FetchResponse } from '@grafana/runtime';\n\n// https://github.com/grafana/grafana/blob/560c77390550e12e8c0be507c00f27cde0aa31e5/public/app/plugins/datasource/postgres/response_parser.ts\nexport class ResponseParser {\n  transformMetricFindResponse(raw: FetchResponse<BackendDataSourceResponse>): MetricFindValue[] {\n    const frame = toDataFrame(raw.data);\n\n    const values: MetricFindValue[] = [];\n    const textField = frame.fields.find((f) => f.name === '__text');\n    const valueField = frame.fields.find((f) => f.name === '__value');\n\n    if (textField && valueField) {\n      for (let i = 0; i < textField.values.length; i++) {\n        values.push({ text: '' + textField.values.get(i), value: '' + valueField.values.get(i) });\n      }\n    } else {\n      values.push(\n        ...frame.fields\n          .flatMap((f) => f.values.toArray())\n          .map((v) => ({\n            text: v,\n          }))\n      );\n    }\n\n    return Array.from(new Set(values.map((v) => v.text))).map((text) => ({\n      text,\n      value: values.find((v) => v.text === text)?.value,\n    }));\n  }\n}\n","import {\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  MetricFindValue,\n  ScopedVars,\n  SelectableValue,\n  toDataFrame,\n  VariableOption,\n  VariableWithMultiSupport,\n} from '@grafana/data';\nimport {\n  BackendDataSourceResponse,\n  FetchResponse,\n  getBackendSrv,\n  getTemplateSrv,\n  BackendSrvRequest,\n} from '@grafana/runtime';\nimport { isArray, isObject } from 'lodash';\nimport { lastValueFrom } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ResponseParser } from './response_parser';\nimport {\n  GenericOptions,\n  GrafanaQuery,\n  MetricConfig,\n  MetricFindTagKeys,\n  MetricFindTagValues,\n  MetricPayloadConfig,\n  QueryEditorMode,\n  QueryRequest,\n  VariableQuery,\n} from './types';\nimport { match, P } from 'ts-pattern';\nimport { valueFromVariableWithMultiSupport } from './variable/valueFromVariableWithMultiSupport';\n\nexport class DataSource extends DataSourceApi<GrafanaQuery, GenericOptions> {\n  url: string;\n  withCredentials: boolean;\n  headers: any;\n  responseParser: ResponseParser;\n  defaultEditorMode: QueryEditorMode;\n  constructor(instanceSettings: DataSourceInstanceSettings<GenericOptions>) {\n    super(instanceSettings);\n\n    this.responseParser = new ResponseParser();\n    this.defaultEditorMode = instanceSettings.jsonData?.defaultEditorMode ?? 'code';\n    this.url = instanceSettings.url === undefined ? '' : instanceSettings.url;\n\n    this.withCredentials = instanceSettings.withCredentials !== undefined;\n    this.headers = { 'Content-Type': 'application/json' };\n    if (typeof instanceSettings.basicAuth === 'string' && instanceSettings.basicAuth.length > 0) {\n      this.headers['Authorization'] = instanceSettings.basicAuth;\n    }\n  }\n\n  query(options: QueryRequest): Promise<DataQueryResponse> {\n    const request = this.processTargets(options);\n\n    if (request.targets.length === 0) {\n      return Promise.resolve({ data: [] });\n    }\n\n    // @ts-ignore\n    request.adhocFilters = getTemplateSrv().getAdhocFilters(this.name);\n\n    options.scopedVars = { ...this.getVariables(), ...options.scopedVars };\n\n    return lastValueFrom(\n      this.doFetch<any[]>({\n        url: `${this.url}/query`,\n        data: request,\n        method: 'POST',\n      }).pipe(\n        map((response) => {\n          response.data = response.data.map(toDataFrame);\n\n          return response;\n        })\n      )\n    );\n  }\n\n  annotations = {};\n\n  async testDatasource() {\n    const errorMessageBase = 'Data source is not working';\n\n    try {\n      const response = await lastValueFrom(\n        this.doFetch({\n          url: this.url,\n          method: 'GET',\n        }).pipe(map((response) => response))\n      );\n\n      if (response.status === 200) {\n        return { status: 'success', message: 'Data source is working', title: 'Success' };\n      }\n\n      return {\n        message: response.statusText ? response.statusText : errorMessageBase,\n        status: 'error',\n        title: 'Error',\n      };\n    } catch (err) {\n      if (typeof err === 'string') {\n        return {\n          status: 'error',\n          message: err,\n        };\n      }\n\n      let error = err as FetchResponse;\n      let message = error.statusText ?? errorMessageBase;\n      if (error.data?.error?.code !== undefined) {\n        message += `: ${error.data.error.code}. ${error.data.error.message}`;\n      }\n\n      return { status: 'error', message, title: 'Error' };\n    }\n  }\n\n  metricFindQuery(variableQuery: VariableQuery, options?: any, type?: string): Promise<MetricFindValue[]> {\n    const interpolated =\n      variableQuery.format === 'json'\n        ? JSON.parse(getTemplateSrv().replace(variableQuery.query, undefined, 'json'))\n        : {\n            type,\n            target: getTemplateSrv().replace(variableQuery.query, undefined, 'regex'),\n          };\n\n    const variableQueryData = {\n      payload: interpolated,\n      range: options?.range,\n      rangeRaw: options?.rangeRaw,\n    };\n\n    return lastValueFrom(\n      this.doFetch<BackendDataSourceResponse>({\n        url: `${this.url}/variable`,\n        data: variableQueryData,\n        method: 'POST',\n      }).pipe(map((response) => this.responseParser.transformMetricFindResponse(response)))\n    );\n  }\n\n  listMetricPayloadOptions(\n    name: string,\n    metric: string,\n    payload: string | { [key: string]: unknown }\n  ): Promise<Array<SelectableValue<string | number>>> {\n    return lastValueFrom<Array<SelectableValue<string | number>>>(\n      this.doFetch({\n        url: `${this.url}/metric-payload-options`,\n        data: {\n          metric,\n          payload: this.processPayload(payload, 'builder', undefined),\n          name,\n        },\n        method: 'POST',\n      }).pipe(\n        map((response) =>\n          isArray(response.data)\n            ? response.data.map((item) => ({ ...item, label: item.label ? item.label : item.value }))\n            : []\n        )\n      )\n    );\n  }\n\n  listMetrics(target: string | number, payload?: string | { [key: string]: any }): Promise<MetricConfig[]> {\n    return lastValueFrom<MetricConfig[]>(\n      this.doFetch({\n        url: `${this.url}/metrics`,\n        data: {\n          metric: target.toString() ? getTemplateSrv().replace(target.toString(), undefined, 'regex') : undefined,\n          payload: payload ? this.processPayload(payload, 'builder', undefined) : undefined,\n        },\n        method: 'POST',\n      }).pipe(\n        map((response) => {\n          if (!isArray(response.data)) {\n            return [];\n          }\n\n          return response.data.map((item: MetricConfig | string) => {\n            if (typeof item === 'string') {\n              return { value: item, label: item, payloads: [] };\n            }\n\n            return {\n              ...item,\n              payloads: isArray(item.payloads)\n                ? item.payloads.map((payload: MetricPayloadConfig) => ({\n                    ...payload,\n                    label: payload.label ? payload.label : payload.name,\n                  }))\n                : [],\n              label: item.label ?? item.value,\n            };\n          });\n        })\n      )\n    );\n  }\n\n  getTagKeys(options?: any): Promise<MetricFindTagKeys[]> {\n    return lastValueFrom(\n      this.doFetch<MetricFindTagKeys[]>({\n        url: `${this.url}/tag-keys`,\n        method: 'POST',\n        data: options,\n      }).pipe(map((result) => result.data))\n    );\n  }\n\n  getTagValues(options: any): Promise<MetricFindTagValues[]> {\n    return lastValueFrom(\n      this.doFetch<MetricFindTagValues[]>({\n        url: `${this.url}/tag-values`,\n        method: 'POST',\n        data: options,\n      }).pipe(map((result) => result.data))\n    );\n  }\n\n  mapToTextValue(result: any) {\n    return result.data.map((d: any, i: any) => {\n      if (d && d.text && d.value) {\n        return { text: d.text, value: d.value };\n      }\n\n      if (isObject(d)) {\n        return { text: d, value: i };\n      }\n      return { text: d, value: d };\n    });\n  }\n\n  doFetch<T>(options: BackendSrvRequest) {\n    options.credentials = this.withCredentials ? 'include' : 'same-origin';\n    options.headers = this.headers;\n\n    return getBackendSrv().fetch<T>(options);\n  }\n\n  processPayload(payload: string | { [key: string]: unknown }, editorMode?: QueryEditorMode, scopedVars?: ScopedVars) {\n    try {\n      if (typeof payload === 'string' && editorMode !== 'builder') {\n        if (payload.trim() !== '') {\n          return JSON.parse(\n            payload.replace((getTemplateSrv() as any).regex, (match) => this.cleanMatch(match, { scopedVars }))\n          );\n        }\n        return {};\n      } else {\n        const newPayload: { [key: string]: any } =\n          typeof payload === 'string' ? (JSON.parse(payload) as { [key: string]: unknown }) : { ...payload };\n        for (const key in newPayload) {\n          if (Object.prototype.hasOwnProperty.call(newPayload, key)) {\n            const value = newPayload[key];\n            if (isArray(value)) {\n              newPayload[key] = value.map((item) => getTemplateSrv().replace(item.toString(), scopedVars, 'regex'));\n            } else {\n              newPayload[key] = getTemplateSrv().replace(newPayload[key].toString(), scopedVars, 'regex');\n            }\n          }\n        }\n        return newPayload;\n      }\n    } catch (error) {\n      return {};\n    }\n  }\n\n  processTarget(q: GrafanaQuery, scopedVars?: ScopedVars) {\n    const query = { ...q };\n    query.payload = this.processPayload(query.payload ?? '', query.editorMode, scopedVars);\n    if (typeof query.target === 'string') {\n      query.target = getTemplateSrv().replace(query.target.toString(), scopedVars, 'regex');\n    }\n    return query;\n  }\n\n  processTargets(options: QueryRequest) {\n    options.targets = options.targets\n      .filter((target) => {\n        // remove placeholder targets\n        return target.target !== undefined;\n      })\n      .map((query) => {\n        return this.processTarget(query, options.scopedVars);\n      });\n\n    return options;\n  }\n\n  cleanMatch(match: string, options: { scopedVars?: ScopedVars }) {\n    const replacedMatch = getTemplateSrv().replace(match, options.scopedVars, 'json');\n    if (replacedMatch[0] === '\"' && replacedMatch[replacedMatch.length - 1] === '\"') {\n      return JSON.parse(replacedMatch);\n    }\n    return replacedMatch;\n  }\n\n  getVariables() {\n    const variableOptions: Record<VariableWithMultiSupport['id'], VariableOption> = {};\n\n    Object.values(getTemplateSrv().getVariables()).forEach((variable) => {\n      if (variable.type === 'adhoc') {\n        // These belong to request.adhocFilters\n        return;\n      }\n\n      if (variable.type === 'system') {\n        return;\n      }\n\n      const value = match(variable)\n        .with({ type: P.union('custom', 'query') }, (v) => valueFromVariableWithMultiSupport(v))\n        .with({ type: P.union('constant', 'datasource', 'interval', 'textbox') }, (v) => v.current.value)\n        .exhaustive();\n\n      if (value === undefined) {\n        return;\n      }\n\n      variableOptions[variable.id] = {\n        selected: false,\n        text: variable.current.text,\n        value: value,\n      };\n    });\n\n    return variableOptions;\n  }\n}\n","import { VariableWithMultiSupport } from '@grafana/data';\nimport { isEqual } from 'lodash';\n\nexport const valueFromVariableWithMultiSupport = (variable: VariableWithMultiSupport) => {\n  let variableValue = variable.current.value;\n  if (variableValue === '$__all' || isEqual(variableValue, ['$__all'])) {\n    if (variable.allValue === null || variable.allValue === '' || variable.allValue === undefined) {\n      variableValue = variable.options.slice(1).map((variableOption) => {\n        if (typeof variableOption.value !== 'string') {\n          const error = new Error('Variable option value is not a string');\n          console.error(error.message, variableOption, variable);\n\n          throw error;\n        }\n        return variableOption.value;\n      });\n    } else {\n      variableValue = variable.allValue;\n    }\n  }\n\n  return variableValue;\n};\n","import { getTemplateSrv } from '@grafana/runtime';\nimport { InlineField, InlineFieldRow, InlineSwitch, Input } from '@grafana/ui';\nimport React, { useState } from 'react';\nimport { VariableQuery } from '../types';\n\ninterface Props {\n  query: VariableQuery;\n  onChange: (query: VariableQuery, definition: string) => void;\n}\n\nexport const VariableQueryEditor: React.FC<Props> = ({ onChange, query }) => {\n  const [variableQuery, setVariableQuery] = useState(query);\n  const saveQuery = () => {\n    onChange(variableQuery, `${variableQuery.query}` + `${variableQuery.format === 'json' ? ' (JSON)' : ''}`);\n  };\n\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) =>\n    setVariableQuery({\n      ...variableQuery,\n      query: event.currentTarget.value,\n    });\n  const handleChangeSwitch = (event: React.FormEvent<HTMLInputElement>) =>\n    setVariableQuery({\n      ...variableQuery,\n      format: event.currentTarget.checked ? 'json' : 'string',\n    });\n\n  const checkValidJSON = (variableQuery: VariableQuery) => {\n    if (variableQuery.format === 'json') {\n      const jsonString = getTemplateSrv().replace(variableQuery.query, undefined, 'json');\n\n      try {\n        JSON.parse(jsonString);\n      } catch (e) {\n        if (e instanceof Error && e.name === 'SyntaxError') {\n          return true;\n        }\n\n        throw e;\n      }\n    }\n    return false;\n  };\n\n  const isJsonFormatEnabled = (format: string) => {\n    return format === 'json';\n  };\n\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField label=\"Query\" invalid={checkValidJSON(variableQuery)} grow>\n          <Input name=\"query\" onBlur={saveQuery} onChange={handleChange} value={variableQuery.query} />\n        </InlineField>\n        <InlineField\n          labelWidth={14}\n          label=\"Raw JSON\"\n          tooltip=\"When enabled, the query string is parsed as a JSON object. Otherwise when disabled, the query string is placed into a 'target' key to create a JSON object.\"\n        >\n          <InlineSwitch\n            name=\"format\"\n            onBlur={saveQuery}\n            onChange={handleChangeSwitch}\n            value={isJsonFormatEnabled(variableQuery.format)}\n          />\n        </InlineField>\n      </InlineFieldRow>\n    </>\n  );\n};\n","import { DataSourcePlugin } from '@grafana/data';\nimport { ConfigEditor } from './Component/ConfigEditor';\nimport { QueryEditorContainer } from './Component/QueryEditorContainer';\nimport { DataSource } from './DataSource';\nimport { GenericOptions, GrafanaQuery } from './types';\nimport { VariableQueryEditor } from './Component/VariableQueryEditor';\n\nexport const plugin = new DataSourcePlugin<DataSource, GrafanaQuery, GenericOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditorContainer)\n  .setVariableQueryEditor(VariableQueryEditor);\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__644__","__WEBPACK_EXTERNAL_MODULE__305__","__WEBPACK_EXTERNAL_MODULE__545__","__WEBPACK_EXTERNAL_MODULE__388__","__WEBPACK_EXTERNAL_MODULE__980__","__WEBPACK_EXTERNAL_MODULE__650__","__WEBPACK_EXTERNAL_MODULE__177__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","editorModes","label","component","Tag","className","css","fontSize","padding","verticalAlign","name","colorIndex","QueryEditorModeToggle","mode","props","div","data-testid","RadioButtonGroup","size","options","FormField","LegacyForms","EditorHeader","children","styles","useStyles2","getStyles","root","theme","display","flexWrap","alignItems","gap","spacing","minHeight","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","Stack","_a","_b","source","exclude","target","indexOf","__objRest","useCallback","_c","flexDirection","direction","wrap","flexGrow","EditorRows","EditorFieldGroup","Space","cx","wrapper","defaultProps","v","h","layout","paddingRight","paddingBottom","__defProp","__defNormalProp","configurable","writable","EditorField","optional","tooltip","tooltipInteractive","width","fieldProps","childInputId","htmlFor","ReactUtils","getChildId","labelEl","Tooltip","placement","content","interactive","Icon","tabIndex","icon","Field","b","__spreadValues","field","minWidth","fontWeight","typography","fontWeightMedium","fontStyle","color","colors","text","secondary","marginBottom","marginLeft","primary","windowObject","self","cancelFrame","requestFrame","clearTimeoutFn","clearTimeout","setTimeoutFn","setTimeout","cancelAnimationFrameFn","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","requestAnimationFrameFn","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","callback","animationFrameID","timeoutID","AutoSizer","Component","constructor","args","super","state","height","defaultHeight","scaledHeight","scaledWidth","defaultWidth","_autoSizer","_detectElementResize","_parentNode","_resizeObserver","_timeoutId","_onResize","disableHeight","disableWidth","onResize","_style$paddingLeft","_style$paddingRight","_style$paddingTop","_style$paddingBottom","style","getComputedStyle","paddingLeft","parseFloat","paddingTop","rect","getBoundingClientRect","offsetHeight","offsetWidth","setState","_setRef","autoSizer","componentDidMount","nonce","parentNode","ownerDocument","defaultView","HTMLElement","ResizeObserver","observe","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","scrollListener","attachEvent","document","element","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","__resizeLast__","__resizeRAF__","__resizeListeners__","forEach","fn","animation","keyframeprefix","domPrefixes","split","startEvents","pfx","elm","createElement","i","length","toLowerCase","addResizeListener","doc","elementStyle","position","getElementById","head","getElementsByTagName","id","type","setAttribute","styleSheet","cssText","appendChild","createTextNode","createStyles","expandTrigger","contractTrigger","addEventListener","__animationListener__","push","removeResizeListener","detachEvent","splice","removeEventListener","removeChild","createDetectElementResize","componentWillUnmount","disconnect","render","tagName","rest","outerStyle","overflow","childParams","bailoutOnChildren","ref","QueryEditor","datasource","onChange","onRunQuery","query","payload","queryPayload","metric","setMetric","React","setPayload","lastQuery","setLastQuery","metricOptions","setMetricOptions","isMetricOptionsLoading","setIsMetricOptionsLoading","loadMetrics","listMetrics","then","result","metrics","map","foundMetric","find","response","Error","statusText","refreshMetricOptions","finally","toString","InlineFieldRow","InlineField","Select","isLoading","prefix","placeholder","allowCustomValue","InlineLabel","CodeEditor","language","showLineNumbers","showMiniMap","onBlur","QueryBuilderTextArea","withTheme2","onValueChange","focusStyles","outline","outlineOffset","boxShadow","background","canvas","main","transitionTimingFunction","transitionDuration","transitionProperty","getFocusStyles","html","replace","dangerouslySetInnerHTML","__html","current","contentEditable","val","currentTarget","innerText","onInput","innerHTML","QueryBuilderPayloadSelect","config","onPayloadChange","isMulti","currentOption","setCurrentOption","isPayloadOptionsLoading","setIsPayloadOptionsLoading","payloadOptions","setPayloadOptions","loadMetricPayloadOptions","listMetricPayloadOptions","vars","getVariables","isArray","index","item","getMetricPayloadOptions","foundOptions","filter","includes","foundOption","isClearable","onOpenMenu","t","Boolean","s","c","matched","selections","match","keys","Array","slice","Infinity","every","matcherType","is","getSelectionKeys","values","reduce","concat","u","assign","l","and","m","or","y","select","iterator","f","entries","some","p","w","S","O","j","startsWith","endsWith","minLength","maxLength","regex","B","E","I","K","A","k","x","Number","isInteger","P","isFinite","T","_","W","between","lt","gt","lte","gte","int","finite","positive","negative","N","$","z","L","M","F","J","U","V","q","C","D","G","H","__proto__","matcher","array","set","Set","Map","intersection","union","not","when","any","string","number","betweenBigInt","ltBigInt","gtBigInt","lteBigInt","gteBigInt","positiveBigInt","negativeBigInt","bigint","boolean","symbol","nullish","instanceOf","shape","Q","X","R","input","with","otherwise","exhaustive","run","JSON","stringify","returnType","stylesFactory","borderColor","getTagColorsFromName","formInputHeight","itemStyle","palette","white","xs","sm","nameStyle","buttonStyles","QueryBuilderTag","onRemove","useTheme","formattedValue","span","IconButton","ariaLabel","onClick","QueryBuilder","unknownPayload","setUnknownPayload","payloadConfig","setPayloadConfig","payloads","loadMetricOptions","newUnknownPayload","changePayload","reloadMetric","ori","newPayload","findOpts","flexFlow","opt","Input","defaultValue","code","idx","convertPayloadToObject","parse","err","console","error","isFunction","extendStatics","setPrototypeOf","__extends","TypeError","String","__","create","__values","next","done","__read","ar","__spreadArray","to","from","pack","arguments","createImpl","ctorFunc","UnsubscriptionError","_super","errors","message","join","instance","stack","arrRemove","arr","Subscription","initialTeardown","closed","_parentage","_finalizers","empty","unsubscribe","e_1","e_2","_parentage_1","_parentage_1_1","remove","e_1_1","return","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","e_2_1","add","teardown","_hasParent","_addParent","parent","_removeParent","EMPTY","onUnhandledError","onStoppedNotification","Promise","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","handler","timeout","_i","delegate","apply","handle","noop","COMPLETE_NOTIFICATION","createNotification","kind","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","_bind","bind","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","reportUnhandledError","notification","subscriber","OperatorSubscriber","onNext","onComplete","onError","onFinalize","shouldUnsubscribe","closed_1","project","init","subscribe","lift","hasLift","liftedSource","ResponseParser","transformMetricFindResponse","raw","frame","toDataFrame","data","textField","fields","valueField","flatMap","toArray","DataSource","DataSourceApi","request","processTargets","targets","resolve","adhocFilters","getTemplateSrv","getAdhocFilters","scopedVars","lastValueFrom","doFetch","url","method","pipe","testDatasource","errorMessageBase","status","title","metricFindQuery","variableQuery","variableQueryData","format","range","rangeRaw","responseParser","processPayload","getTagKeys","getTagValues","mapToTextValue","isObject","credentials","withCredentials","headers","getBackendSrv","fetch","editorMode","trim","cleanMatch","processTarget","replacedMatch","variableOptions","variable","variableValue","isEqual","allValue","variableOption","valueFromVariableWithMultiSupport","selected","instanceSettings","defaultEditorMode","annotations","jsonData","basicAuth","plugin","DataSourcePlugin","setConfigEditor","onOptionsChange","DataSourceHttpSettings","defaultUrl","dataSourceConfig","showAccessOptions","h3","labelWidth","inputEl","setQueryEditor","showRawQuery","setShowRawQuery","onEditorModeChange","newMetricEditorMode","InlineSwitch","sizes","checked","readOnly","setVariableQueryEditor","setVariableQuery","useState","saveQuery","invalid","jsonString","checkValidJSON","grow","event"],"sourceRoot":""}